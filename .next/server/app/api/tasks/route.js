/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(() => {
var exports = {};
exports.id = "app/api/tasks/route";
exports.ids = ["app/api/tasks/route"];
exports.modules = {

/***/ "(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader/index.js?name=app%2Fapi%2Ftasks%2Froute&page=%2Fapi%2Ftasks%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Ftasks%2Froute.ts&appDir=C%3A%5CProjects%5Croot2%5Cunity-voice-frontend%5Csrc%5Capp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=C%3A%5CProjects%5Croot2%5Cunity-voice-frontend&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!":
/*!***************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/next/dist/build/webpack/loaders/next-app-loader/index.js?name=app%2Fapi%2Ftasks%2Froute&page=%2Fapi%2Ftasks%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Ftasks%2Froute.ts&appDir=C%3A%5CProjects%5Croot2%5Cunity-voice-frontend%5Csrc%5Capp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=C%3A%5CProjects%5Croot2%5Cunity-voice-frontend&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D! ***!
  \***************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   patchFetch: () => (/* binding */ patchFetch),\n/* harmony export */   routeModule: () => (/* binding */ routeModule),\n/* harmony export */   serverHooks: () => (/* binding */ serverHooks),\n/* harmony export */   workAsyncStorage: () => (/* binding */ workAsyncStorage),\n/* harmony export */   workUnitAsyncStorage: () => (/* binding */ workUnitAsyncStorage)\n/* harmony export */ });\n/* harmony import */ var next_dist_server_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/dist/server/route-modules/app-route/module.compiled */ \"(rsc)/./node_modules/next/dist/server/route-modules/app-route/module.compiled.js\");\n/* harmony import */ var next_dist_server_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var next_dist_server_route_kind__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! next/dist/server/route-kind */ \"(rsc)/./node_modules/next/dist/server/route-kind.js\");\n/* harmony import */ var next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! next/dist/server/lib/patch-fetch */ \"(rsc)/./node_modules/next/dist/server/lib/patch-fetch.js\");\n/* harmony import */ var next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var C_Projects_root2_unity_voice_frontend_src_app_api_tasks_route_ts__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./src/app/api/tasks/route.ts */ \"(rsc)/./src/app/api/tasks/route.ts\");\n\n\n\n\n// We inject the nextConfigOutput here so that we can use them in the route\n// module.\nconst nextConfigOutput = \"\"\nconst routeModule = new next_dist_server_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__.AppRouteRouteModule({\n    definition: {\n        kind: next_dist_server_route_kind__WEBPACK_IMPORTED_MODULE_1__.RouteKind.APP_ROUTE,\n        page: \"/api/tasks/route\",\n        pathname: \"/api/tasks\",\n        filename: \"route\",\n        bundlePath: \"app/api/tasks/route\"\n    },\n    resolvedPagePath: \"C:\\\\Projects\\\\root2\\\\unity-voice-frontend\\\\src\\\\app\\\\api\\\\tasks\\\\route.ts\",\n    nextConfigOutput,\n    userland: C_Projects_root2_unity_voice_frontend_src_app_api_tasks_route_ts__WEBPACK_IMPORTED_MODULE_3__\n});\n// Pull out the exports that we need to expose from the module. This should\n// be eliminated when we've moved the other routes to the new format. These\n// are used to hook into the route.\nconst { workAsyncStorage, workUnitAsyncStorage, serverHooks } = routeModule;\nfunction patchFetch() {\n    return (0,next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__.patchFetch)({\n        workAsyncStorage,\n        workUnitAsyncStorage\n    });\n}\n\n\n//# sourceMappingURL=app-route.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvbmV4dC9kaXN0L2J1aWxkL3dlYnBhY2svbG9hZGVycy9uZXh0LWFwcC1sb2FkZXIvaW5kZXguanM/bmFtZT1hcHAlMkZhcGklMkZ0YXNrcyUyRnJvdXRlJnBhZ2U9JTJGYXBpJTJGdGFza3MlMkZyb3V0ZSZhcHBQYXRocz0mcGFnZVBhdGg9cHJpdmF0ZS1uZXh0LWFwcC1kaXIlMkZhcGklMkZ0YXNrcyUyRnJvdXRlLnRzJmFwcERpcj1DJTNBJTVDUHJvamVjdHMlNUNyb290MiU1Q3VuaXR5LXZvaWNlLWZyb250ZW5kJTVDc3JjJTVDYXBwJnBhZ2VFeHRlbnNpb25zPXRzeCZwYWdlRXh0ZW5zaW9ucz10cyZwYWdlRXh0ZW5zaW9ucz1qc3gmcGFnZUV4dGVuc2lvbnM9anMmcm9vdERpcj1DJTNBJTVDUHJvamVjdHMlNUNyb290MiU1Q3VuaXR5LXZvaWNlLWZyb250ZW5kJmlzRGV2PXRydWUmdHNjb25maWdQYXRoPXRzY29uZmlnLmpzb24mYmFzZVBhdGg9JmFzc2V0UHJlZml4PSZuZXh0Q29uZmlnT3V0cHV0PSZwcmVmZXJyZWRSZWdpb249Jm1pZGRsZXdhcmVDb25maWc9ZTMwJTNEISIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7OztBQUErRjtBQUN2QztBQUNxQjtBQUN5QjtBQUN0RztBQUNBO0FBQ0E7QUFDQSx3QkFBd0IseUdBQW1CO0FBQzNDO0FBQ0EsY0FBYyxrRUFBUztBQUN2QjtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0EsWUFBWTtBQUNaLENBQUM7QUFDRDtBQUNBO0FBQ0E7QUFDQSxRQUFRLHNEQUFzRDtBQUM5RDtBQUNBLFdBQVcsNEVBQVc7QUFDdEI7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUMwRjs7QUFFMUYiLCJzb3VyY2VzIjpbIiJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBBcHBSb3V0ZVJvdXRlTW9kdWxlIH0gZnJvbSBcIm5leHQvZGlzdC9zZXJ2ZXIvcm91dGUtbW9kdWxlcy9hcHAtcm91dGUvbW9kdWxlLmNvbXBpbGVkXCI7XG5pbXBvcnQgeyBSb3V0ZUtpbmQgfSBmcm9tIFwibmV4dC9kaXN0L3NlcnZlci9yb3V0ZS1raW5kXCI7XG5pbXBvcnQgeyBwYXRjaEZldGNoIGFzIF9wYXRjaEZldGNoIH0gZnJvbSBcIm5leHQvZGlzdC9zZXJ2ZXIvbGliL3BhdGNoLWZldGNoXCI7XG5pbXBvcnQgKiBhcyB1c2VybGFuZCBmcm9tIFwiQzpcXFxcUHJvamVjdHNcXFxccm9vdDJcXFxcdW5pdHktdm9pY2UtZnJvbnRlbmRcXFxcc3JjXFxcXGFwcFxcXFxhcGlcXFxcdGFza3NcXFxccm91dGUudHNcIjtcbi8vIFdlIGluamVjdCB0aGUgbmV4dENvbmZpZ091dHB1dCBoZXJlIHNvIHRoYXQgd2UgY2FuIHVzZSB0aGVtIGluIHRoZSByb3V0ZVxuLy8gbW9kdWxlLlxuY29uc3QgbmV4dENvbmZpZ091dHB1dCA9IFwiXCJcbmNvbnN0IHJvdXRlTW9kdWxlID0gbmV3IEFwcFJvdXRlUm91dGVNb2R1bGUoe1xuICAgIGRlZmluaXRpb246IHtcbiAgICAgICAga2luZDogUm91dGVLaW5kLkFQUF9ST1VURSxcbiAgICAgICAgcGFnZTogXCIvYXBpL3Rhc2tzL3JvdXRlXCIsXG4gICAgICAgIHBhdGhuYW1lOiBcIi9hcGkvdGFza3NcIixcbiAgICAgICAgZmlsZW5hbWU6IFwicm91dGVcIixcbiAgICAgICAgYnVuZGxlUGF0aDogXCJhcHAvYXBpL3Rhc2tzL3JvdXRlXCJcbiAgICB9LFxuICAgIHJlc29sdmVkUGFnZVBhdGg6IFwiQzpcXFxcUHJvamVjdHNcXFxccm9vdDJcXFxcdW5pdHktdm9pY2UtZnJvbnRlbmRcXFxcc3JjXFxcXGFwcFxcXFxhcGlcXFxcdGFza3NcXFxccm91dGUudHNcIixcbiAgICBuZXh0Q29uZmlnT3V0cHV0LFxuICAgIHVzZXJsYW5kXG59KTtcbi8vIFB1bGwgb3V0IHRoZSBleHBvcnRzIHRoYXQgd2UgbmVlZCB0byBleHBvc2UgZnJvbSB0aGUgbW9kdWxlLiBUaGlzIHNob3VsZFxuLy8gYmUgZWxpbWluYXRlZCB3aGVuIHdlJ3ZlIG1vdmVkIHRoZSBvdGhlciByb3V0ZXMgdG8gdGhlIG5ldyBmb3JtYXQuIFRoZXNlXG4vLyBhcmUgdXNlZCB0byBob29rIGludG8gdGhlIHJvdXRlLlxuY29uc3QgeyB3b3JrQXN5bmNTdG9yYWdlLCB3b3JrVW5pdEFzeW5jU3RvcmFnZSwgc2VydmVySG9va3MgfSA9IHJvdXRlTW9kdWxlO1xuZnVuY3Rpb24gcGF0Y2hGZXRjaCgpIHtcbiAgICByZXR1cm4gX3BhdGNoRmV0Y2goe1xuICAgICAgICB3b3JrQXN5bmNTdG9yYWdlLFxuICAgICAgICB3b3JrVW5pdEFzeW5jU3RvcmFnZVxuICAgIH0pO1xufVxuZXhwb3J0IHsgcm91dGVNb2R1bGUsIHdvcmtBc3luY1N0b3JhZ2UsIHdvcmtVbml0QXN5bmNTdG9yYWdlLCBzZXJ2ZXJIb29rcywgcGF0Y2hGZXRjaCwgIH07XG5cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWFwcC1yb3V0ZS5qcy5tYXAiXSwibmFtZXMiOltdLCJpZ25vcmVMaXN0IjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader/index.js?name=app%2Fapi%2Ftasks%2Froute&page=%2Fapi%2Ftasks%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Ftasks%2Froute.ts&appDir=C%3A%5CProjects%5Croot2%5Cunity-voice-frontend%5Csrc%5Capp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=C%3A%5CProjects%5Croot2%5Cunity-voice-frontend&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!\n");

/***/ }),

/***/ "(rsc)/./node_modules/next/dist/build/webpack/loaders/next-flight-client-entry-loader.js?server=true!":
/*!******************************************************************************************************!*\
  !*** ./node_modules/next/dist/build/webpack/loaders/next-flight-client-entry-loader.js?server=true! ***!
  \******************************************************************************************************/
/***/ (() => {



/***/ }),

/***/ "(rsc)/./src/app/api/tasks/route.ts":
/*!************************************!*\
  !*** ./src/app/api/tasks/route.ts ***!
  \************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   GET: () => (/* binding */ GET),\n/* harmony export */   POST: () => (/* binding */ POST),\n/* harmony export */   PUT: () => (/* binding */ PUT)\n/* harmony export */ });\n/* harmony import */ var next_server__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/server */ \"(rsc)/./node_modules/next/dist/api/server.js\");\n/* harmony import */ var jsonwebtoken__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! jsonwebtoken */ \"(rsc)/./node_modules/jsonwebtoken/index.js\");\n/* harmony import */ var jsonwebtoken__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(jsonwebtoken__WEBPACK_IMPORTED_MODULE_1__);\n// apps/web/src/app/api/tasks/route.ts - תיקון מאוחד\n\n\nconst API_URL = process.env.API_URL || 'http://localhost:5000/api';\nconsole.log('🔍 API_URL value:', API_URL);\nfunction getUserIdFromToken(request) {\n    try {\n        const authHeader = request.headers.get('authorization');\n        if (!authHeader || !authHeader.startsWith('Bearer ')) {\n            return {\n                userId: null,\n                error: 'No valid authorization header'\n            };\n        }\n        const token = authHeader.split(' ')[1];\n        const secret = process.env.JWT_SECRET;\n        if (!secret) {\n            console.error('JWT secret is not defined');\n            return {\n                userId: null,\n                error: 'JWT secret not configured'\n            };\n        }\n        const decoded = jsonwebtoken__WEBPACK_IMPORTED_MODULE_1___default().verify(token, secret);\n        // Extract userId from token - try multiple fields\n        const userId = decoded.userId || decoded.id?.toString() || null;\n        if (!userId) {\n            return {\n                userId: null,\n                error: 'No userId found in token'\n            };\n        }\n        console.log('✅ Extracted userId from token:', userId);\n        return {\n            userId\n        };\n    } catch (error) {\n        console.error('❌ Error extracting userId from token:', error);\n        return {\n            userId: null,\n            error: 'Invalid token'\n        };\n    }\n}\n/**\r\n * POST /api/tasks - Create a new task\r\n */ async function POST(request) {\n    try {\n        console.log(\"📋 API Tasks - Creating task\");\n        // Extract userId from JWT token\n        const { userId, error } = getUserIdFromToken(request);\n        if (!userId) {\n            console.error('Authentication failed:', error);\n            return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n                success: false,\n                error: `Authentication required: ${error}`\n            }, {\n                status: 401\n            });\n        }\n        // Get request body\n        const body = await request.json();\n        console.log('📝 Original request body:', JSON.stringify(body, null, 2));\n        // Add UserId to the request body\n        const requestWithUserId = {\n            ...body,\n            UserId: userId\n        };\n        console.log('📝 Request body with UserId:', JSON.stringify(requestWithUserId, null, 2));\n        // Get authorization header for forwarding\n        const authHeader = request.headers.get('Authorization');\n        // Forward request to backend\n        const backendUrl = `${API_URL}/tasks`;\n        console.log('🚀 Proxying task creation request to:', backendUrl);\n        const response = await fetch(backendUrl, {\n            method: 'POST',\n            headers: {\n                'Authorization': authHeader || '',\n                'Content-Type': 'application/json'\n            },\n            body: JSON.stringify(requestWithUserId)\n        });\n        console.log('📡 Backend response status:', response.status);\n        if (!response.ok) {\n            const errorText = await response.text();\n            console.error('❌ Backend tasks API error:', errorText);\n            let errorData;\n            try {\n                errorData = JSON.parse(errorText);\n            } catch  {\n                errorData = {\n                    error: 'Failed to create task in backend',\n                    details: errorText\n                };\n            }\n            return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json(errorData, {\n                status: response.status\n            });\n        }\n        const data = await response.json();\n        console.log('✅ Task created successfully:', data);\n        return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json(data);\n    } catch (error) {\n        console.error('💥 Error in task creation:', error);\n        return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n            success: false,\n            error: 'Internal server error',\n            details: error instanceof Error ? error.message : 'Unknown error'\n        }, {\n            status: 500\n        });\n    }\n}\n/**\r\n * PUT /api/tasks - Update a task\r\n */ async function PUT(request) {\n    try {\n        console.log(\"📝 API Tasks - Updating task\");\n        // Verify authentication\n        const { userId, error } = getUserIdFromToken(request);\n        if (!userId) {\n            console.error('Authentication failed:', error);\n            return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n                success: false,\n                error: `Authentication required: ${error}`\n            }, {\n                status: 401\n            });\n        }\n        // Get request body\n        const body = await request.json();\n        const taskId = body.taskId || body.TaskId;\n        if (!taskId) {\n            return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n                success: false,\n                error: 'Task ID is required'\n            }, {\n                status: 400\n            });\n        }\n        console.log('📝 Update request body:', JSON.stringify(body, null, 2));\n        // Get authorization header\n        const authHeader = request.headers.get('Authorization');\n        // Forward request to backend - use PATCH method as that's what backend expects\n        const backendUrl = `${API_URL}/tasks/${taskId}`;\n        console.log('🚀 Proxying task update request to:', backendUrl);\n        const response = await fetch(backendUrl, {\n            method: 'PATCH',\n            headers: {\n                'Authorization': authHeader || '',\n                'Content-Type': 'application/json'\n            },\n            body: JSON.stringify(body)\n        });\n        console.log('📡 Backend response status:', response.status);\n        if (!response.ok) {\n            const errorText = await response.text();\n            console.error('❌ Backend task update API error:', errorText);\n            let errorData;\n            try {\n                errorData = JSON.parse(errorText);\n            } catch  {\n                errorData = {\n                    error: 'Failed to update task in backend',\n                    details: errorText\n                };\n            }\n            return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json(errorData, {\n                status: response.status\n            });\n        }\n        const data = await response.json();\n        console.log('✅ Task updated successfully:', data);\n        return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json(data);\n    } catch (error) {\n        console.error('💥 Error in task update:', error);\n        return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n            success: false,\n            error: 'Internal server error',\n            details: error instanceof Error ? error.message : 'Unknown error'\n        }, {\n            status: 500\n        });\n    }\n}\n/**\r\n * GET /api/tasks - Get user tasks\r\n */ async function GET(request) {\n    try {\n        console.log(\"📋 API Tasks - Getting user tasks\");\n        // Verify authentication\n        const { userId, error } = getUserIdFromToken(request);\n        if (!userId) {\n            console.error('Authentication failed:', error);\n            return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n                success: false,\n                error: `Authentication required: ${error}`\n            }, {\n                status: 401\n            });\n        }\n        // Get authorization header\n        const authHeader = request.headers.get('Authorization');\n        // Extract query parameters\n        const { searchParams } = new URL(request.url);\n        const queryString = searchParams.toString();\n        // Forward request to backend\n        const backendUrl = `${API_URL}/tasks${queryString ? `?${queryString}` : ''}`;\n        console.log('🚀 Proxying get tasks request to:', backendUrl);\n        const response = await fetch(backendUrl, {\n            method: 'GET',\n            headers: {\n                'Authorization': authHeader || '',\n                'Content-Type': 'application/json'\n            }\n        });\n        console.log('📡 Backend response status:', response.status);\n        if (!response.ok) {\n            const errorText = await response.text();\n            console.error('❌ Backend get tasks API error:', errorText);\n            let errorData;\n            try {\n                errorData = JSON.parse(errorText);\n            } catch  {\n                errorData = {\n                    error: 'Failed to fetch tasks from backend',\n                    details: errorText\n                };\n            }\n            return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json(errorData, {\n                status: response.status\n            });\n        }\n        const data = await response.json();\n        console.log(`✅ Tasks retrieved successfully: ${Array.isArray(data) ? data.length : 'unknown'} tasks`);\n        return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json(data);\n    } catch (error) {\n        console.error('💥 Error in get tasks:', error);\n        return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n            success: false,\n            error: 'Internal server error',\n            details: error instanceof Error ? error.message : 'Unknown error'\n        }, {\n            status: 500\n        });\n    }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9zcmMvYXBwL2FwaS90YXNrcy9yb3V0ZS50cyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7QUFBQSxvREFBb0Q7QUFDSTtBQUN6QjtBQUUvQixNQUFNRSxVQUFVQyxRQUFRQyxHQUFHLENBQUNGLE9BQU8sSUFBSTtBQUN2Q0csUUFBUUMsR0FBRyxDQUFDLHFCQUFxQko7QUFXakMsU0FBU0ssbUJBQW1CQyxPQUFvQjtJQUM5QyxJQUFJO1FBQ0YsTUFBTUMsYUFBYUQsUUFBUUUsT0FBTyxDQUFDQyxHQUFHLENBQUM7UUFDdkMsSUFBSSxDQUFDRixjQUFjLENBQUNBLFdBQVdHLFVBQVUsQ0FBQyxZQUFZO1lBQ3BELE9BQU87Z0JBQUVDLFFBQVE7Z0JBQU1DLE9BQU87WUFBZ0M7UUFDaEU7UUFFQSxNQUFNQyxRQUFRTixXQUFXTyxLQUFLLENBQUMsSUFBSSxDQUFDLEVBQUU7UUFDdEMsTUFBTUMsU0FBU2QsUUFBUUMsR0FBRyxDQUFDYyxVQUFVO1FBRXJDLElBQUksQ0FBQ0QsUUFBUTtZQUNYWixRQUFRUyxLQUFLLENBQUM7WUFDZCxPQUFPO2dCQUFFRCxRQUFRO2dCQUFNQyxPQUFPO1lBQTRCO1FBQzVEO1FBRUEsTUFBTUssVUFBVWxCLDBEQUFVLENBQUNjLE9BQU9FO1FBRWxDLGtEQUFrRDtRQUNsRCxNQUFNSixTQUFTTSxRQUFRTixNQUFNLElBQUlNLFFBQVFFLEVBQUUsRUFBRUMsY0FBYztRQUUzRCxJQUFJLENBQUNULFFBQVE7WUFDWCxPQUFPO2dCQUFFQSxRQUFRO2dCQUFNQyxPQUFPO1lBQTJCO1FBQzNEO1FBRUFULFFBQVFDLEdBQUcsQ0FBQyxrQ0FBa0NPO1FBQzlDLE9BQU87WUFBRUE7UUFBTztJQUNsQixFQUFFLE9BQU9DLE9BQU87UUFDZFQsUUFBUVMsS0FBSyxDQUFDLHlDQUF5Q0E7UUFDdkQsT0FBTztZQUFFRCxRQUFRO1lBQU1DLE9BQU87UUFBZ0I7SUFDaEQ7QUFDRjtBQUVBOztDQUVDLEdBQ00sZUFBZVMsS0FBS2YsT0FBb0I7SUFDN0MsSUFBSTtRQUNGSCxRQUFRQyxHQUFHLENBQUM7UUFFWixnQ0FBZ0M7UUFDaEMsTUFBTSxFQUFFTyxNQUFNLEVBQUVDLEtBQUssRUFBRSxHQUFHUCxtQkFBbUJDO1FBQzdDLElBQUksQ0FBQ0ssUUFBUTtZQUNYUixRQUFRUyxLQUFLLENBQUMsMEJBQTBCQTtZQUN4QyxPQUFPZCxxREFBWUEsQ0FBQ3dCLElBQUksQ0FDdEI7Z0JBQUVDLFNBQVM7Z0JBQU9YLE9BQU8sQ0FBQyx5QkFBeUIsRUFBRUEsT0FBTztZQUFDLEdBQzdEO2dCQUFFWSxRQUFRO1lBQUk7UUFFbEI7UUFFQSxtQkFBbUI7UUFDbkIsTUFBTUMsT0FBTyxNQUFNbkIsUUFBUWdCLElBQUk7UUFDL0JuQixRQUFRQyxHQUFHLENBQUMsNkJBQTZCc0IsS0FBS0MsU0FBUyxDQUFDRixNQUFNLE1BQU07UUFFcEUsaUNBQWlDO1FBQ2pDLE1BQU1HLG9CQUFvQjtZQUN4QixHQUFHSCxJQUFJO1lBQ1BJLFFBQVFsQjtRQUNWO1FBRUFSLFFBQVFDLEdBQUcsQ0FBQyxnQ0FBZ0NzQixLQUFLQyxTQUFTLENBQUNDLG1CQUFtQixNQUFNO1FBRXBGLDBDQUEwQztRQUMxQyxNQUFNckIsYUFBYUQsUUFBUUUsT0FBTyxDQUFDQyxHQUFHLENBQUM7UUFFdkMsNkJBQTZCO1FBQzdCLE1BQU1xQixhQUFhLEdBQUc5QixRQUFRLE1BQU0sQ0FBQztRQUNyQ0csUUFBUUMsR0FBRyxDQUFDLHlDQUF5QzBCO1FBRXJELE1BQU1DLFdBQVcsTUFBTUMsTUFBTUYsWUFBWTtZQUN2Q0csUUFBUTtZQUNSekIsU0FBUztnQkFDUCxpQkFBaUJELGNBQWM7Z0JBQy9CLGdCQUFnQjtZQUNsQjtZQUNBa0IsTUFBTUMsS0FBS0MsU0FBUyxDQUFDQztRQUN2QjtRQUVBekIsUUFBUUMsR0FBRyxDQUFDLCtCQUErQjJCLFNBQVNQLE1BQU07UUFFMUQsSUFBSSxDQUFDTyxTQUFTRyxFQUFFLEVBQUU7WUFDaEIsTUFBTUMsWUFBWSxNQUFNSixTQUFTSyxJQUFJO1lBQ3JDakMsUUFBUVMsS0FBSyxDQUFDLDhCQUE4QnVCO1lBRTVDLElBQUlFO1lBQ0osSUFBSTtnQkFDRkEsWUFBWVgsS0FBS1ksS0FBSyxDQUFDSDtZQUN6QixFQUFFLE9BQU07Z0JBQ05FLFlBQVk7b0JBQUV6QixPQUFPO29CQUFvQzJCLFNBQVNKO2dCQUFVO1lBQzlFO1lBRUEsT0FBT3JDLHFEQUFZQSxDQUFDd0IsSUFBSSxDQUN0QmUsV0FDQTtnQkFBRWIsUUFBUU8sU0FBU1AsTUFBTTtZQUFDO1FBRTlCO1FBRUEsTUFBTWdCLE9BQU8sTUFBTVQsU0FBU1QsSUFBSTtRQUNoQ25CLFFBQVFDLEdBQUcsQ0FBQyxnQ0FBZ0NvQztRQUM1QyxPQUFPMUMscURBQVlBLENBQUN3QixJQUFJLENBQUNrQjtJQUMzQixFQUFFLE9BQU81QixPQUFPO1FBQ2RULFFBQVFTLEtBQUssQ0FBQyw4QkFBOEJBO1FBQzVDLE9BQU9kLHFEQUFZQSxDQUFDd0IsSUFBSSxDQUN0QjtZQUNFQyxTQUFTO1lBQ1RYLE9BQU87WUFDUDJCLFNBQVMzQixpQkFBaUI2QixRQUFRN0IsTUFBTThCLE9BQU8sR0FBRztRQUNwRCxHQUNBO1lBQUVsQixRQUFRO1FBQUk7SUFFbEI7QUFDRjtBQUVBOztDQUVDLEdBQ00sZUFBZW1CLElBQUlyQyxPQUFvQjtJQUM1QyxJQUFJO1FBQ0ZILFFBQVFDLEdBQUcsQ0FBQztRQUVaLHdCQUF3QjtRQUN4QixNQUFNLEVBQUVPLE1BQU0sRUFBRUMsS0FBSyxFQUFFLEdBQUdQLG1CQUFtQkM7UUFDN0MsSUFBSSxDQUFDSyxRQUFRO1lBQ1hSLFFBQVFTLEtBQUssQ0FBQywwQkFBMEJBO1lBQ3hDLE9BQU9kLHFEQUFZQSxDQUFDd0IsSUFBSSxDQUN0QjtnQkFBRUMsU0FBUztnQkFBT1gsT0FBTyxDQUFDLHlCQUF5QixFQUFFQSxPQUFPO1lBQUMsR0FDN0Q7Z0JBQUVZLFFBQVE7WUFBSTtRQUVsQjtRQUVBLG1CQUFtQjtRQUNuQixNQUFNQyxPQUFPLE1BQU1uQixRQUFRZ0IsSUFBSTtRQUMvQixNQUFNc0IsU0FBU25CLEtBQUttQixNQUFNLElBQUluQixLQUFLb0IsTUFBTTtRQUV6QyxJQUFJLENBQUNELFFBQVE7WUFDWCxPQUFPOUMscURBQVlBLENBQUN3QixJQUFJLENBQ3RCO2dCQUFFQyxTQUFTO2dCQUFPWCxPQUFPO1lBQXNCLEdBQy9DO2dCQUFFWSxRQUFRO1lBQUk7UUFFbEI7UUFFQXJCLFFBQVFDLEdBQUcsQ0FBQywyQkFBMkJzQixLQUFLQyxTQUFTLENBQUNGLE1BQU0sTUFBTTtRQUVsRSwyQkFBMkI7UUFDM0IsTUFBTWxCLGFBQWFELFFBQVFFLE9BQU8sQ0FBQ0MsR0FBRyxDQUFDO1FBRXZDLCtFQUErRTtRQUMvRSxNQUFNcUIsYUFBYSxHQUFHOUIsUUFBUSxPQUFPLEVBQUU0QyxRQUFRO1FBQy9DekMsUUFBUUMsR0FBRyxDQUFDLHVDQUF1QzBCO1FBRW5ELE1BQU1DLFdBQVcsTUFBTUMsTUFBTUYsWUFBWTtZQUN2Q0csUUFBUTtZQUNSekIsU0FBUztnQkFDUCxpQkFBaUJELGNBQWM7Z0JBQy9CLGdCQUFnQjtZQUNsQjtZQUNBa0IsTUFBTUMsS0FBS0MsU0FBUyxDQUFDRjtRQUN2QjtRQUVBdEIsUUFBUUMsR0FBRyxDQUFDLCtCQUErQjJCLFNBQVNQLE1BQU07UUFFMUQsSUFBSSxDQUFDTyxTQUFTRyxFQUFFLEVBQUU7WUFDaEIsTUFBTUMsWUFBWSxNQUFNSixTQUFTSyxJQUFJO1lBQ3JDakMsUUFBUVMsS0FBSyxDQUFDLG9DQUFvQ3VCO1lBRWxELElBQUlFO1lBQ0osSUFBSTtnQkFDRkEsWUFBWVgsS0FBS1ksS0FBSyxDQUFDSDtZQUN6QixFQUFFLE9BQU07Z0JBQ05FLFlBQVk7b0JBQUV6QixPQUFPO29CQUFvQzJCLFNBQVNKO2dCQUFVO1lBQzlFO1lBRUEsT0FBT3JDLHFEQUFZQSxDQUFDd0IsSUFBSSxDQUN0QmUsV0FDQTtnQkFBRWIsUUFBUU8sU0FBU1AsTUFBTTtZQUFDO1FBRTlCO1FBRUEsTUFBTWdCLE9BQU8sTUFBTVQsU0FBU1QsSUFBSTtRQUNoQ25CLFFBQVFDLEdBQUcsQ0FBQyxnQ0FBZ0NvQztRQUM1QyxPQUFPMUMscURBQVlBLENBQUN3QixJQUFJLENBQUNrQjtJQUMzQixFQUFFLE9BQU81QixPQUFPO1FBQ2RULFFBQVFTLEtBQUssQ0FBQyw0QkFBNEJBO1FBQzFDLE9BQU9kLHFEQUFZQSxDQUFDd0IsSUFBSSxDQUN0QjtZQUNFQyxTQUFTO1lBQ1RYLE9BQU87WUFDUDJCLFNBQVMzQixpQkFBaUI2QixRQUFRN0IsTUFBTThCLE9BQU8sR0FBRztRQUNwRCxHQUNBO1lBQUVsQixRQUFRO1FBQUk7SUFFbEI7QUFDRjtBQUVBOztDQUVDLEdBQ00sZUFBZXNCLElBQUl4QyxPQUFvQjtJQUM1QyxJQUFJO1FBQ0ZILFFBQVFDLEdBQUcsQ0FBQztRQUVaLHdCQUF3QjtRQUN4QixNQUFNLEVBQUVPLE1BQU0sRUFBRUMsS0FBSyxFQUFFLEdBQUdQLG1CQUFtQkM7UUFDN0MsSUFBSSxDQUFDSyxRQUFRO1lBQ1hSLFFBQVFTLEtBQUssQ0FBQywwQkFBMEJBO1lBQ3hDLE9BQU9kLHFEQUFZQSxDQUFDd0IsSUFBSSxDQUN0QjtnQkFBRUMsU0FBUztnQkFBT1gsT0FBTyxDQUFDLHlCQUF5QixFQUFFQSxPQUFPO1lBQUMsR0FDN0Q7Z0JBQUVZLFFBQVE7WUFBSTtRQUVsQjtRQUVBLDJCQUEyQjtRQUMzQixNQUFNakIsYUFBYUQsUUFBUUUsT0FBTyxDQUFDQyxHQUFHLENBQUM7UUFFdkMsMkJBQTJCO1FBQzNCLE1BQU0sRUFBRXNDLFlBQVksRUFBRSxHQUFHLElBQUlDLElBQUkxQyxRQUFRMkMsR0FBRztRQUM1QyxNQUFNQyxjQUFjSCxhQUFhM0IsUUFBUTtRQUV6Qyw2QkFBNkI7UUFDN0IsTUFBTVUsYUFBYSxHQUFHOUIsUUFBUSxNQUFNLEVBQUVrRCxjQUFjLENBQUMsQ0FBQyxFQUFFQSxhQUFhLEdBQUcsSUFBSTtRQUM1RS9DLFFBQVFDLEdBQUcsQ0FBQyxxQ0FBcUMwQjtRQUVqRCxNQUFNQyxXQUFXLE1BQU1DLE1BQU1GLFlBQVk7WUFDdkNHLFFBQVE7WUFDUnpCLFNBQVM7Z0JBQ1AsaUJBQWlCRCxjQUFjO2dCQUMvQixnQkFBZ0I7WUFDbEI7UUFDRjtRQUVBSixRQUFRQyxHQUFHLENBQUMsK0JBQStCMkIsU0FBU1AsTUFBTTtRQUUxRCxJQUFJLENBQUNPLFNBQVNHLEVBQUUsRUFBRTtZQUNoQixNQUFNQyxZQUFZLE1BQU1KLFNBQVNLLElBQUk7WUFDckNqQyxRQUFRUyxLQUFLLENBQUMsa0NBQWtDdUI7WUFFaEQsSUFBSUU7WUFDSixJQUFJO2dCQUNGQSxZQUFZWCxLQUFLWSxLQUFLLENBQUNIO1lBQ3pCLEVBQUUsT0FBTTtnQkFDTkUsWUFBWTtvQkFBRXpCLE9BQU87b0JBQXNDMkIsU0FBU0o7Z0JBQVU7WUFDaEY7WUFFQSxPQUFPckMscURBQVlBLENBQUN3QixJQUFJLENBQ3RCZSxXQUNBO2dCQUFFYixRQUFRTyxTQUFTUCxNQUFNO1lBQUM7UUFFOUI7UUFFQSxNQUFNZ0IsT0FBTyxNQUFNVCxTQUFTVCxJQUFJO1FBQ2hDbkIsUUFBUUMsR0FBRyxDQUFDLENBQUMsZ0NBQWdDLEVBQUUrQyxNQUFNQyxPQUFPLENBQUNaLFFBQVFBLEtBQUthLE1BQU0sR0FBRyxVQUFVLE1BQU0sQ0FBQztRQUNwRyxPQUFPdkQscURBQVlBLENBQUN3QixJQUFJLENBQUNrQjtJQUMzQixFQUFFLE9BQU81QixPQUFPO1FBQ2RULFFBQVFTLEtBQUssQ0FBQywwQkFBMEJBO1FBQ3hDLE9BQU9kLHFEQUFZQSxDQUFDd0IsSUFBSSxDQUN0QjtZQUNFQyxTQUFTO1lBQ1RYLE9BQU87WUFDUDJCLFNBQVMzQixpQkFBaUI2QixRQUFRN0IsTUFBTThCLE9BQU8sR0FBRztRQUNwRCxHQUNBO1lBQUVsQixRQUFRO1FBQUk7SUFFbEI7QUFDRiIsInNvdXJjZXMiOlsiQzpcXFByb2plY3RzXFxyb290MlxcdW5pdHktdm9pY2UtZnJvbnRlbmRcXHNyY1xcYXBwXFxhcGlcXHRhc2tzXFxyb3V0ZS50cyJdLCJzb3VyY2VzQ29udGVudCI6WyIvLyBhcHBzL3dlYi9zcmMvYXBwL2FwaS90YXNrcy9yb3V0ZS50cyAtINeq15nXp9eV158g157XkNeV15fXk1xyXG5pbXBvcnQgeyBOZXh0UmVxdWVzdCwgTmV4dFJlc3BvbnNlIH0gZnJvbSAnbmV4dC9zZXJ2ZXInO1xyXG5pbXBvcnQgand0IGZyb20gJ2pzb253ZWJ0b2tlbic7XHJcblxyXG5jb25zdCBBUElfVVJMID0gcHJvY2Vzcy5lbnYuQVBJX1VSTCB8fCAnaHR0cDovL2xvY2FsaG9zdDo1MDAwL2FwaSc7XHJcbmNvbnNvbGUubG9nKCfwn5SNIEFQSV9VUkwgdmFsdWU6JywgQVBJX1VSTCk7XHJcblxyXG5pbnRlcmZhY2UgVG9rZW5QYXlsb2FkIHtcclxuICBpZD86IHN0cmluZyB8IG51bWJlcjtcclxuICB1c2VySWQ/OiBzdHJpbmc7XHJcbiAgZW1haWw6IHN0cmluZztcclxuICByb2xlPzogc3RyaW5nO1xyXG4gIGlhdD86IG51bWJlcjtcclxuICBleHA/OiBudW1iZXI7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIGdldFVzZXJJZEZyb21Ub2tlbihyZXF1ZXN0OiBOZXh0UmVxdWVzdCk6IHsgdXNlcklkOiBzdHJpbmcgfCBudWxsOyBlcnJvcj86IHN0cmluZyB9IHtcclxuICB0cnkge1xyXG4gICAgY29uc3QgYXV0aEhlYWRlciA9IHJlcXVlc3QuaGVhZGVycy5nZXQoJ2F1dGhvcml6YXRpb24nKTtcclxuICAgIGlmICghYXV0aEhlYWRlciB8fCAhYXV0aEhlYWRlci5zdGFydHNXaXRoKCdCZWFyZXIgJykpIHtcclxuICAgICAgcmV0dXJuIHsgdXNlcklkOiBudWxsLCBlcnJvcjogJ05vIHZhbGlkIGF1dGhvcml6YXRpb24gaGVhZGVyJyB9O1xyXG4gICAgfVxyXG5cclxuICAgIGNvbnN0IHRva2VuID0gYXV0aEhlYWRlci5zcGxpdCgnICcpWzFdO1xyXG4gICAgY29uc3Qgc2VjcmV0ID0gcHJvY2Vzcy5lbnYuSldUX1NFQ1JFVDtcclxuICAgIFxyXG4gICAgaWYgKCFzZWNyZXQpIHtcclxuICAgICAgY29uc29sZS5lcnJvcignSldUIHNlY3JldCBpcyBub3QgZGVmaW5lZCcpO1xyXG4gICAgICByZXR1cm4geyB1c2VySWQ6IG51bGwsIGVycm9yOiAnSldUIHNlY3JldCBub3QgY29uZmlndXJlZCcgfTtcclxuICAgIH1cclxuXHJcbiAgICBjb25zdCBkZWNvZGVkID0gand0LnZlcmlmeSh0b2tlbiwgc2VjcmV0KSBhcyBUb2tlblBheWxvYWQ7XHJcbiAgICBcclxuICAgIC8vIEV4dHJhY3QgdXNlcklkIGZyb20gdG9rZW4gLSB0cnkgbXVsdGlwbGUgZmllbGRzXHJcbiAgICBjb25zdCB1c2VySWQgPSBkZWNvZGVkLnVzZXJJZCB8fCBkZWNvZGVkLmlkPy50b1N0cmluZygpIHx8IG51bGw7XHJcbiAgICBcclxuICAgIGlmICghdXNlcklkKSB7XHJcbiAgICAgIHJldHVybiB7IHVzZXJJZDogbnVsbCwgZXJyb3I6ICdObyB1c2VySWQgZm91bmQgaW4gdG9rZW4nIH07XHJcbiAgICB9XHJcbiAgICBcclxuICAgIGNvbnNvbGUubG9nKCfinIUgRXh0cmFjdGVkIHVzZXJJZCBmcm9tIHRva2VuOicsIHVzZXJJZCk7XHJcbiAgICByZXR1cm4geyB1c2VySWQgfTtcclxuICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgY29uc29sZS5lcnJvcign4p2MIEVycm9yIGV4dHJhY3RpbmcgdXNlcklkIGZyb20gdG9rZW46JywgZXJyb3IpO1xyXG4gICAgcmV0dXJuIHsgdXNlcklkOiBudWxsLCBlcnJvcjogJ0ludmFsaWQgdG9rZW4nIH07XHJcbiAgfVxyXG59XHJcblxyXG4vKipcclxuICogUE9TVCAvYXBpL3Rhc2tzIC0gQ3JlYXRlIGEgbmV3IHRhc2tcclxuICovXHJcbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBQT1NUKHJlcXVlc3Q6IE5leHRSZXF1ZXN0KSB7XHJcbiAgdHJ5IHtcclxuICAgIGNvbnNvbGUubG9nKFwi8J+TiyBBUEkgVGFza3MgLSBDcmVhdGluZyB0YXNrXCIpO1xyXG4gICAgXHJcbiAgICAvLyBFeHRyYWN0IHVzZXJJZCBmcm9tIEpXVCB0b2tlblxyXG4gICAgY29uc3QgeyB1c2VySWQsIGVycm9yIH0gPSBnZXRVc2VySWRGcm9tVG9rZW4ocmVxdWVzdCk7XHJcbiAgICBpZiAoIXVzZXJJZCkge1xyXG4gICAgICBjb25zb2xlLmVycm9yKCdBdXRoZW50aWNhdGlvbiBmYWlsZWQ6JywgZXJyb3IpO1xyXG4gICAgICByZXR1cm4gTmV4dFJlc3BvbnNlLmpzb24oXHJcbiAgICAgICAgeyBzdWNjZXNzOiBmYWxzZSwgZXJyb3I6IGBBdXRoZW50aWNhdGlvbiByZXF1aXJlZDogJHtlcnJvcn1gIH0sXHJcbiAgICAgICAgeyBzdGF0dXM6IDQwMSB9XHJcbiAgICAgICk7XHJcbiAgICB9XHJcblxyXG4gICAgLy8gR2V0IHJlcXVlc3QgYm9keVxyXG4gICAgY29uc3QgYm9keSA9IGF3YWl0IHJlcXVlc3QuanNvbigpO1xyXG4gICAgY29uc29sZS5sb2coJ/Cfk50gT3JpZ2luYWwgcmVxdWVzdCBib2R5OicsIEpTT04uc3RyaW5naWZ5KGJvZHksIG51bGwsIDIpKTtcclxuICAgIFxyXG4gICAgLy8gQWRkIFVzZXJJZCB0byB0aGUgcmVxdWVzdCBib2R5XHJcbiAgICBjb25zdCByZXF1ZXN0V2l0aFVzZXJJZCA9IHtcclxuICAgICAgLi4uYm9keSxcclxuICAgICAgVXNlcklkOiB1c2VySWRcclxuICAgIH07XHJcbiAgICBcclxuICAgIGNvbnNvbGUubG9nKCfwn5OdIFJlcXVlc3QgYm9keSB3aXRoIFVzZXJJZDonLCBKU09OLnN0cmluZ2lmeShyZXF1ZXN0V2l0aFVzZXJJZCwgbnVsbCwgMikpO1xyXG4gICAgXHJcbiAgICAvLyBHZXQgYXV0aG9yaXphdGlvbiBoZWFkZXIgZm9yIGZvcndhcmRpbmdcclxuICAgIGNvbnN0IGF1dGhIZWFkZXIgPSByZXF1ZXN0LmhlYWRlcnMuZ2V0KCdBdXRob3JpemF0aW9uJyk7XHJcbiAgICBcclxuICAgIC8vIEZvcndhcmQgcmVxdWVzdCB0byBiYWNrZW5kXHJcbiAgICBjb25zdCBiYWNrZW5kVXJsID0gYCR7QVBJX1VSTH0vdGFza3NgO1xyXG4gICAgY29uc29sZS5sb2coJ/CfmoAgUHJveHlpbmcgdGFzayBjcmVhdGlvbiByZXF1ZXN0IHRvOicsIGJhY2tlbmRVcmwpO1xyXG4gICAgXHJcbiAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGZldGNoKGJhY2tlbmRVcmwsIHtcclxuICAgICAgbWV0aG9kOiAnUE9TVCcsXHJcbiAgICAgIGhlYWRlcnM6IHtcclxuICAgICAgICAnQXV0aG9yaXphdGlvbic6IGF1dGhIZWFkZXIgfHwgJycsXHJcbiAgICAgICAgJ0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi9qc29uJ1xyXG4gICAgICB9LFxyXG4gICAgICBib2R5OiBKU09OLnN0cmluZ2lmeShyZXF1ZXN0V2l0aFVzZXJJZClcclxuICAgIH0pO1xyXG4gICAgXHJcbiAgICBjb25zb2xlLmxvZygn8J+ToSBCYWNrZW5kIHJlc3BvbnNlIHN0YXR1czonLCByZXNwb25zZS5zdGF0dXMpO1xyXG4gICAgXHJcbiAgICBpZiAoIXJlc3BvbnNlLm9rKSB7XHJcbiAgICAgIGNvbnN0IGVycm9yVGV4dCA9IGF3YWl0IHJlc3BvbnNlLnRleHQoKTtcclxuICAgICAgY29uc29sZS5lcnJvcign4p2MIEJhY2tlbmQgdGFza3MgQVBJIGVycm9yOicsIGVycm9yVGV4dCk7XHJcbiAgICAgIFxyXG4gICAgICBsZXQgZXJyb3JEYXRhO1xyXG4gICAgICB0cnkge1xyXG4gICAgICAgIGVycm9yRGF0YSA9IEpTT04ucGFyc2UoZXJyb3JUZXh0KTtcclxuICAgICAgfSBjYXRjaCB7XHJcbiAgICAgICAgZXJyb3JEYXRhID0geyBlcnJvcjogJ0ZhaWxlZCB0byBjcmVhdGUgdGFzayBpbiBiYWNrZW5kJywgZGV0YWlsczogZXJyb3JUZXh0IH07XHJcbiAgICAgIH1cclxuICAgICAgXHJcbiAgICAgIHJldHVybiBOZXh0UmVzcG9uc2UuanNvbihcclxuICAgICAgICBlcnJvckRhdGEsXHJcbiAgICAgICAgeyBzdGF0dXM6IHJlc3BvbnNlLnN0YXR1cyB9XHJcbiAgICAgICk7XHJcbiAgICB9XHJcbiAgICBcclxuICAgIGNvbnN0IGRhdGEgPSBhd2FpdCByZXNwb25zZS5qc29uKCk7XHJcbiAgICBjb25zb2xlLmxvZygn4pyFIFRhc2sgY3JlYXRlZCBzdWNjZXNzZnVsbHk6JywgZGF0YSk7XHJcbiAgICByZXR1cm4gTmV4dFJlc3BvbnNlLmpzb24oZGF0YSk7XHJcbiAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgIGNvbnNvbGUuZXJyb3IoJ/CfkqUgRXJyb3IgaW4gdGFzayBjcmVhdGlvbjonLCBlcnJvcik7XHJcbiAgICByZXR1cm4gTmV4dFJlc3BvbnNlLmpzb24oXHJcbiAgICAgIHsgXHJcbiAgICAgICAgc3VjY2VzczogZmFsc2UsIFxyXG4gICAgICAgIGVycm9yOiAnSW50ZXJuYWwgc2VydmVyIGVycm9yJyxcclxuICAgICAgICBkZXRhaWxzOiBlcnJvciBpbnN0YW5jZW9mIEVycm9yID8gZXJyb3IubWVzc2FnZSA6ICdVbmtub3duIGVycm9yJ1xyXG4gICAgICB9LFxyXG4gICAgICB7IHN0YXR1czogNTAwIH1cclxuICAgICk7XHJcbiAgfVxyXG59XHJcblxyXG4vKipcclxuICogUFVUIC9hcGkvdGFza3MgLSBVcGRhdGUgYSB0YXNrXHJcbiAqL1xyXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gUFVUKHJlcXVlc3Q6IE5leHRSZXF1ZXN0KSB7XHJcbiAgdHJ5IHtcclxuICAgIGNvbnNvbGUubG9nKFwi8J+TnSBBUEkgVGFza3MgLSBVcGRhdGluZyB0YXNrXCIpO1xyXG4gICAgXHJcbiAgICAvLyBWZXJpZnkgYXV0aGVudGljYXRpb25cclxuICAgIGNvbnN0IHsgdXNlcklkLCBlcnJvciB9ID0gZ2V0VXNlcklkRnJvbVRva2VuKHJlcXVlc3QpO1xyXG4gICAgaWYgKCF1c2VySWQpIHtcclxuICAgICAgY29uc29sZS5lcnJvcignQXV0aGVudGljYXRpb24gZmFpbGVkOicsIGVycm9yKTtcclxuICAgICAgcmV0dXJuIE5leHRSZXNwb25zZS5qc29uKFxyXG4gICAgICAgIHsgc3VjY2VzczogZmFsc2UsIGVycm9yOiBgQXV0aGVudGljYXRpb24gcmVxdWlyZWQ6ICR7ZXJyb3J9YCB9LFxyXG4gICAgICAgIHsgc3RhdHVzOiA0MDEgfVxyXG4gICAgICApO1xyXG4gICAgfVxyXG4gICAgXHJcbiAgICAvLyBHZXQgcmVxdWVzdCBib2R5XHJcbiAgICBjb25zdCBib2R5ID0gYXdhaXQgcmVxdWVzdC5qc29uKCk7XHJcbiAgICBjb25zdCB0YXNrSWQgPSBib2R5LnRhc2tJZCB8fCBib2R5LlRhc2tJZDtcclxuICAgIFxyXG4gICAgaWYgKCF0YXNrSWQpIHtcclxuICAgICAgcmV0dXJuIE5leHRSZXNwb25zZS5qc29uKFxyXG4gICAgICAgIHsgc3VjY2VzczogZmFsc2UsIGVycm9yOiAnVGFzayBJRCBpcyByZXF1aXJlZCcgfSxcclxuICAgICAgICB7IHN0YXR1czogNDAwIH1cclxuICAgICAgKTtcclxuICAgIH1cclxuICAgIFxyXG4gICAgY29uc29sZS5sb2coJ/Cfk50gVXBkYXRlIHJlcXVlc3QgYm9keTonLCBKU09OLnN0cmluZ2lmeShib2R5LCBudWxsLCAyKSk7XHJcbiAgICBcclxuICAgIC8vIEdldCBhdXRob3JpemF0aW9uIGhlYWRlclxyXG4gICAgY29uc3QgYXV0aEhlYWRlciA9IHJlcXVlc3QuaGVhZGVycy5nZXQoJ0F1dGhvcml6YXRpb24nKTtcclxuICAgIFxyXG4gICAgLy8gRm9yd2FyZCByZXF1ZXN0IHRvIGJhY2tlbmQgLSB1c2UgUEFUQ0ggbWV0aG9kIGFzIHRoYXQncyB3aGF0IGJhY2tlbmQgZXhwZWN0c1xyXG4gICAgY29uc3QgYmFja2VuZFVybCA9IGAke0FQSV9VUkx9L3Rhc2tzLyR7dGFza0lkfWA7XHJcbiAgICBjb25zb2xlLmxvZygn8J+agCBQcm94eWluZyB0YXNrIHVwZGF0ZSByZXF1ZXN0IHRvOicsIGJhY2tlbmRVcmwpO1xyXG4gICAgXHJcbiAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGZldGNoKGJhY2tlbmRVcmwsIHtcclxuICAgICAgbWV0aG9kOiAnUEFUQ0gnLFxyXG4gICAgICBoZWFkZXJzOiB7XHJcbiAgICAgICAgJ0F1dGhvcml6YXRpb24nOiBhdXRoSGVhZGVyIHx8ICcnLFxyXG4gICAgICAgICdDb250ZW50LVR5cGUnOiAnYXBwbGljYXRpb24vanNvbidcclxuICAgICAgfSxcclxuICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkoYm9keSlcclxuICAgIH0pO1xyXG4gICAgXHJcbiAgICBjb25zb2xlLmxvZygn8J+ToSBCYWNrZW5kIHJlc3BvbnNlIHN0YXR1czonLCByZXNwb25zZS5zdGF0dXMpO1xyXG4gICAgXHJcbiAgICBpZiAoIXJlc3BvbnNlLm9rKSB7XHJcbiAgICAgIGNvbnN0IGVycm9yVGV4dCA9IGF3YWl0IHJlc3BvbnNlLnRleHQoKTtcclxuICAgICAgY29uc29sZS5lcnJvcign4p2MIEJhY2tlbmQgdGFzayB1cGRhdGUgQVBJIGVycm9yOicsIGVycm9yVGV4dCk7XHJcbiAgICAgIFxyXG4gICAgICBsZXQgZXJyb3JEYXRhO1xyXG4gICAgICB0cnkge1xyXG4gICAgICAgIGVycm9yRGF0YSA9IEpTT04ucGFyc2UoZXJyb3JUZXh0KTtcclxuICAgICAgfSBjYXRjaCB7XHJcbiAgICAgICAgZXJyb3JEYXRhID0geyBlcnJvcjogJ0ZhaWxlZCB0byB1cGRhdGUgdGFzayBpbiBiYWNrZW5kJywgZGV0YWlsczogZXJyb3JUZXh0IH07XHJcbiAgICAgIH1cclxuICAgICAgXHJcbiAgICAgIHJldHVybiBOZXh0UmVzcG9uc2UuanNvbihcclxuICAgICAgICBlcnJvckRhdGEsXHJcbiAgICAgICAgeyBzdGF0dXM6IHJlc3BvbnNlLnN0YXR1cyB9XHJcbiAgICAgICk7XHJcbiAgICB9XHJcbiAgICBcclxuICAgIGNvbnN0IGRhdGEgPSBhd2FpdCByZXNwb25zZS5qc29uKCk7XHJcbiAgICBjb25zb2xlLmxvZygn4pyFIFRhc2sgdXBkYXRlZCBzdWNjZXNzZnVsbHk6JywgZGF0YSk7XHJcbiAgICByZXR1cm4gTmV4dFJlc3BvbnNlLmpzb24oZGF0YSk7XHJcbiAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgIGNvbnNvbGUuZXJyb3IoJ/CfkqUgRXJyb3IgaW4gdGFzayB1cGRhdGU6JywgZXJyb3IpO1xyXG4gICAgcmV0dXJuIE5leHRSZXNwb25zZS5qc29uKFxyXG4gICAgICB7IFxyXG4gICAgICAgIHN1Y2Nlc3M6IGZhbHNlLCBcclxuICAgICAgICBlcnJvcjogJ0ludGVybmFsIHNlcnZlciBlcnJvcicsXHJcbiAgICAgICAgZGV0YWlsczogZXJyb3IgaW5zdGFuY2VvZiBFcnJvciA/IGVycm9yLm1lc3NhZ2UgOiAnVW5rbm93biBlcnJvcidcclxuICAgICAgfSxcclxuICAgICAgeyBzdGF0dXM6IDUwMCB9XHJcbiAgICApO1xyXG4gIH1cclxufVxyXG5cclxuLyoqXHJcbiAqIEdFVCAvYXBpL3Rhc2tzIC0gR2V0IHVzZXIgdGFza3NcclxuICovXHJcbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBHRVQocmVxdWVzdDogTmV4dFJlcXVlc3QpIHtcclxuICB0cnkge1xyXG4gICAgY29uc29sZS5sb2coXCLwn5OLIEFQSSBUYXNrcyAtIEdldHRpbmcgdXNlciB0YXNrc1wiKTtcclxuICAgIFxyXG4gICAgLy8gVmVyaWZ5IGF1dGhlbnRpY2F0aW9uXHJcbiAgICBjb25zdCB7IHVzZXJJZCwgZXJyb3IgfSA9IGdldFVzZXJJZEZyb21Ub2tlbihyZXF1ZXN0KTtcclxuICAgIGlmICghdXNlcklkKSB7XHJcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ0F1dGhlbnRpY2F0aW9uIGZhaWxlZDonLCBlcnJvcik7XHJcbiAgICAgIHJldHVybiBOZXh0UmVzcG9uc2UuanNvbihcclxuICAgICAgICB7IHN1Y2Nlc3M6IGZhbHNlLCBlcnJvcjogYEF1dGhlbnRpY2F0aW9uIHJlcXVpcmVkOiAke2Vycm9yfWAgfSxcclxuICAgICAgICB7IHN0YXR1czogNDAxIH1cclxuICAgICAgKTtcclxuICAgIH1cclxuICAgIFxyXG4gICAgLy8gR2V0IGF1dGhvcml6YXRpb24gaGVhZGVyXHJcbiAgICBjb25zdCBhdXRoSGVhZGVyID0gcmVxdWVzdC5oZWFkZXJzLmdldCgnQXV0aG9yaXphdGlvbicpO1xyXG4gICAgXHJcbiAgICAvLyBFeHRyYWN0IHF1ZXJ5IHBhcmFtZXRlcnNcclxuICAgIGNvbnN0IHsgc2VhcmNoUGFyYW1zIH0gPSBuZXcgVVJMKHJlcXVlc3QudXJsKTtcclxuICAgIGNvbnN0IHF1ZXJ5U3RyaW5nID0gc2VhcmNoUGFyYW1zLnRvU3RyaW5nKCk7XHJcbiAgICBcclxuICAgIC8vIEZvcndhcmQgcmVxdWVzdCB0byBiYWNrZW5kXHJcbiAgICBjb25zdCBiYWNrZW5kVXJsID0gYCR7QVBJX1VSTH0vdGFza3Mke3F1ZXJ5U3RyaW5nID8gYD8ke3F1ZXJ5U3RyaW5nfWAgOiAnJ31gO1xyXG4gICAgY29uc29sZS5sb2coJ/CfmoAgUHJveHlpbmcgZ2V0IHRhc2tzIHJlcXVlc3QgdG86JywgYmFja2VuZFVybCk7XHJcbiAgICBcclxuICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgZmV0Y2goYmFja2VuZFVybCwge1xyXG4gICAgICBtZXRob2Q6ICdHRVQnLFxyXG4gICAgICBoZWFkZXJzOiB7XHJcbiAgICAgICAgJ0F1dGhvcml6YXRpb24nOiBhdXRoSGVhZGVyIHx8ICcnLFxyXG4gICAgICAgICdDb250ZW50LVR5cGUnOiAnYXBwbGljYXRpb24vanNvbidcclxuICAgICAgfVxyXG4gICAgfSk7XHJcbiAgICBcclxuICAgIGNvbnNvbGUubG9nKCfwn5OhIEJhY2tlbmQgcmVzcG9uc2Ugc3RhdHVzOicsIHJlc3BvbnNlLnN0YXR1cyk7XHJcbiAgICBcclxuICAgIGlmICghcmVzcG9uc2Uub2spIHtcclxuICAgICAgY29uc3QgZXJyb3JUZXh0ID0gYXdhaXQgcmVzcG9uc2UudGV4dCgpO1xyXG4gICAgICBjb25zb2xlLmVycm9yKCfinYwgQmFja2VuZCBnZXQgdGFza3MgQVBJIGVycm9yOicsIGVycm9yVGV4dCk7XHJcbiAgICAgIFxyXG4gICAgICBsZXQgZXJyb3JEYXRhO1xyXG4gICAgICB0cnkge1xyXG4gICAgICAgIGVycm9yRGF0YSA9IEpTT04ucGFyc2UoZXJyb3JUZXh0KTtcclxuICAgICAgfSBjYXRjaCB7XHJcbiAgICAgICAgZXJyb3JEYXRhID0geyBlcnJvcjogJ0ZhaWxlZCB0byBmZXRjaCB0YXNrcyBmcm9tIGJhY2tlbmQnLCBkZXRhaWxzOiBlcnJvclRleHQgfTtcclxuICAgICAgfVxyXG4gICAgICBcclxuICAgICAgcmV0dXJuIE5leHRSZXNwb25zZS5qc29uKFxyXG4gICAgICAgIGVycm9yRGF0YSxcclxuICAgICAgICB7IHN0YXR1czogcmVzcG9uc2Uuc3RhdHVzIH1cclxuICAgICAgKTtcclxuICAgIH1cclxuICAgIFxyXG4gICAgY29uc3QgZGF0YSA9IGF3YWl0IHJlc3BvbnNlLmpzb24oKTtcclxuICAgIGNvbnNvbGUubG9nKGDinIUgVGFza3MgcmV0cmlldmVkIHN1Y2Nlc3NmdWxseTogJHtBcnJheS5pc0FycmF5KGRhdGEpID8gZGF0YS5sZW5ndGggOiAndW5rbm93bid9IHRhc2tzYCk7XHJcbiAgICByZXR1cm4gTmV4dFJlc3BvbnNlLmpzb24oZGF0YSk7XHJcbiAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgIGNvbnNvbGUuZXJyb3IoJ/CfkqUgRXJyb3IgaW4gZ2V0IHRhc2tzOicsIGVycm9yKTtcclxuICAgIHJldHVybiBOZXh0UmVzcG9uc2UuanNvbihcclxuICAgICAgeyBcclxuICAgICAgICBzdWNjZXNzOiBmYWxzZSwgXHJcbiAgICAgICAgZXJyb3I6ICdJbnRlcm5hbCBzZXJ2ZXIgZXJyb3InLFxyXG4gICAgICAgIGRldGFpbHM6IGVycm9yIGluc3RhbmNlb2YgRXJyb3IgPyBlcnJvci5tZXNzYWdlIDogJ1Vua25vd24gZXJyb3InXHJcbiAgICAgIH0sXHJcbiAgICAgIHsgc3RhdHVzOiA1MDAgfVxyXG4gICAgKTtcclxuICB9XHJcbn0iXSwibmFtZXMiOlsiTmV4dFJlc3BvbnNlIiwiand0IiwiQVBJX1VSTCIsInByb2Nlc3MiLCJlbnYiLCJjb25zb2xlIiwibG9nIiwiZ2V0VXNlcklkRnJvbVRva2VuIiwicmVxdWVzdCIsImF1dGhIZWFkZXIiLCJoZWFkZXJzIiwiZ2V0Iiwic3RhcnRzV2l0aCIsInVzZXJJZCIsImVycm9yIiwidG9rZW4iLCJzcGxpdCIsInNlY3JldCIsIkpXVF9TRUNSRVQiLCJkZWNvZGVkIiwidmVyaWZ5IiwiaWQiLCJ0b1N0cmluZyIsIlBPU1QiLCJqc29uIiwic3VjY2VzcyIsInN0YXR1cyIsImJvZHkiLCJKU09OIiwic3RyaW5naWZ5IiwicmVxdWVzdFdpdGhVc2VySWQiLCJVc2VySWQiLCJiYWNrZW5kVXJsIiwicmVzcG9uc2UiLCJmZXRjaCIsIm1ldGhvZCIsIm9rIiwiZXJyb3JUZXh0IiwidGV4dCIsImVycm9yRGF0YSIsInBhcnNlIiwiZGV0YWlscyIsImRhdGEiLCJFcnJvciIsIm1lc3NhZ2UiLCJQVVQiLCJ0YXNrSWQiLCJUYXNrSWQiLCJHRVQiLCJzZWFyY2hQYXJhbXMiLCJVUkwiLCJ1cmwiLCJxdWVyeVN0cmluZyIsIkFycmF5IiwiaXNBcnJheSIsImxlbmd0aCJdLCJpZ25vcmVMaXN0IjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./src/app/api/tasks/route.ts\n");

/***/ }),

/***/ "(ssr)/./node_modules/next/dist/build/webpack/loaders/next-flight-client-entry-loader.js?server=true!":
/*!******************************************************************************************************!*\
  !*** ./node_modules/next/dist/build/webpack/loaders/next-flight-client-entry-loader.js?server=true! ***!
  \******************************************************************************************************/
/***/ (() => {



/***/ }),

/***/ "../app-render/after-task-async-storage.external":
/*!***********************************************************************************!*\
  !*** external "next/dist/server/app-render/after-task-async-storage.external.js" ***!
  \***********************************************************************************/
/***/ ((module) => {

"use strict";
module.exports = require("next/dist/server/app-render/after-task-async-storage.external.js");

/***/ }),

/***/ "../app-render/work-async-storage.external":
/*!*****************************************************************************!*\
  !*** external "next/dist/server/app-render/work-async-storage.external.js" ***!
  \*****************************************************************************/
/***/ ((module) => {

"use strict";
module.exports = require("next/dist/server/app-render/work-async-storage.external.js");

/***/ }),

/***/ "./work-unit-async-storage.external":
/*!**********************************************************************************!*\
  !*** external "next/dist/server/app-render/work-unit-async-storage.external.js" ***!
  \**********************************************************************************/
/***/ ((module) => {

"use strict";
module.exports = require("next/dist/server/app-render/work-unit-async-storage.external.js");

/***/ }),

/***/ "buffer":
/*!*************************!*\
  !*** external "buffer" ***!
  \*************************/
/***/ ((module) => {

"use strict";
module.exports = require("buffer");

/***/ }),

/***/ "crypto":
/*!*************************!*\
  !*** external "crypto" ***!
  \*************************/
/***/ ((module) => {

"use strict";
module.exports = require("crypto");

/***/ }),

/***/ "next/dist/compiled/next-server/app-page.runtime.dev.js":
/*!*************************************************************************!*\
  !*** external "next/dist/compiled/next-server/app-page.runtime.dev.js" ***!
  \*************************************************************************/
/***/ ((module) => {

"use strict";
module.exports = require("next/dist/compiled/next-server/app-page.runtime.dev.js");

/***/ }),

/***/ "next/dist/compiled/next-server/app-route.runtime.dev.js":
/*!**************************************************************************!*\
  !*** external "next/dist/compiled/next-server/app-route.runtime.dev.js" ***!
  \**************************************************************************/
/***/ ((module) => {

"use strict";
module.exports = require("next/dist/compiled/next-server/app-route.runtime.dev.js");

/***/ }),

/***/ "stream":
/*!*************************!*\
  !*** external "stream" ***!
  \*************************/
/***/ ((module) => {

"use strict";
module.exports = require("stream");

/***/ }),

/***/ "util":
/*!***********************!*\
  !*** external "util" ***!
  \***********************/
/***/ ((module) => {

"use strict";
module.exports = require("util");

/***/ })

};
;

// load runtime
var __webpack_require__ = require("../../../webpack-runtime.js");
__webpack_require__.C(exports);
var __webpack_exec__ = (moduleId) => (__webpack_require__(__webpack_require__.s = moduleId))
var __webpack_exports__ = __webpack_require__.X(0, ["vendor-chunks/next","vendor-chunks/semver","vendor-chunks/jsonwebtoken","vendor-chunks/lodash.includes","vendor-chunks/lodash.once","vendor-chunks/lodash.isinteger","vendor-chunks/ecdsa-sig-formatter","vendor-chunks/lodash.isplainobject","vendor-chunks/ms","vendor-chunks/lodash.isstring","vendor-chunks/lodash.isnumber","vendor-chunks/lodash.isboolean","vendor-chunks/safe-buffer","vendor-chunks/buffer-equal-constant-time"], () => (__webpack_exec__("(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader/index.js?name=app%2Fapi%2Ftasks%2Froute&page=%2Fapi%2Ftasks%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Ftasks%2Froute.ts&appDir=C%3A%5CProjects%5Croot2%5Cunity-voice-frontend%5Csrc%5Capp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=C%3A%5CProjects%5Croot2%5Cunity-voice-frontend&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!")));
module.exports = __webpack_exports__;

})();