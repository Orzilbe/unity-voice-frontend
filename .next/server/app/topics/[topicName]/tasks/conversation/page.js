(()=>{var e={};e.id=3255,e.ids=[3255],e.modules={199:(e,t,s)=>{Promise.resolve().then(s.bind(s,70810))},3295:e=>{"use strict";e.exports=require("next/dist/server/app-render/after-task-async-storage.external.js")},10846:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},17071:(e,t,s)=>{Promise.resolve().then(s.bind(s,81880))},19121:e=>{"use strict";e.exports=require("next/dist/server/app-render/action-async-storage.external.js")},27910:e=>{"use strict";e.exports=require("stream")},28354:e=>{"use strict";e.exports=require("util")},29294:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-async-storage.external.js")},30671:(e,t,s)=>{Promise.resolve().then(s.bind(s,48048))},33873:e=>{"use strict";e.exports=require("path")},35835:(e,t,s)=>{"use strict";s.r(t),s.d(t,{GlobalError:()=>o.a,__next_app__:()=>u,pages:()=>d,routeModule:()=>x,tree:()=>c});var r=s(65239),a=s(48088),n=s(88170),o=s.n(n),i=s(30893),l={};for(let e in i)0>["default","tree","pages","GlobalError","__next_app__","routeModule"].indexOf(e)&&(l[e]=()=>i[e]);s.d(t,l);let c={children:["",{children:["topics",{children:["[topicName]",{children:["tasks",{children:["conversation",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(s.bind(s,75049)),"C:\\Users\\orzil\\OneDrive\\שולחן העבודה\\פגמר\\080625\\unity-voice-frontend-1\\src\\app\\topics\\[topicName]\\tasks\\conversation\\page.tsx"]}]},{}]},{layout:[()=>Promise.resolve().then(s.bind(s,81880)),"C:\\Users\\orzil\\OneDrive\\שולחן העבודה\\פגמר\\080625\\unity-voice-frontend-1\\src\\app\\topics\\[topicName]\\tasks\\layout.tsx"]}]},{}]},{}]},{layout:[()=>Promise.resolve().then(s.bind(s,94431)),"C:\\Users\\orzil\\OneDrive\\שולחן העבודה\\פגמר\\080625\\unity-voice-frontend-1\\src\\app\\layout.tsx"],"not-found":[()=>Promise.resolve().then(s.t.bind(s,57398,23)),"next/dist/client/components/not-found-error"],forbidden:[()=>Promise.resolve().then(s.t.bind(s,89999,23)),"next/dist/client/components/forbidden-error"],unauthorized:[()=>Promise.resolve().then(s.t.bind(s,65284,23)),"next/dist/client/components/unauthorized-error"]}]}.children,d=["C:\\Users\\orzil\\OneDrive\\שולחן העבודה\\פגמר\\080625\\unity-voice-frontend-1\\src\\app\\topics\\[topicName]\\tasks\\conversation\\page.tsx"],u={require:s,loadChunk:()=>Promise.resolve()},x=new r.AppPageRouteModule({definition:{kind:a.RouteKind.APP_PAGE,page:"/topics/[topicName]/tasks/conversation/page",pathname:"/topics/[topicName]/tasks/conversation",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:c}})},48048:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>v});var r=s(60687),a=s(76180),n=s.n(a),o=s(55511);let i={randomUUID:o.randomUUID},l=new Uint8Array(256),c=l.length,d=[];for(let e=0;e<256;++e)d.push((e+256).toString(16).slice(1));let u=function(e,t,s){if(i.randomUUID&&!t&&!e)return i.randomUUID();let r=(e=e||{}).random??e.rng?.()??(c>l.length-16&&((0,o.randomFillSync)(l),c=0),l.slice(c,c+=16));if(r.length<16)throw Error("Random bytes length must be >= 16");if(r[6]=15&r[6]|64,r[8]=63&r[8]|128,t){if((s=s||0)<0||s+16>t.length)throw RangeError(`UUID byte range ${s}:${s+15} is out of buffer bounds`);for(let e=0;e<16;++e)t[s+e]=r[e];return t}return function(e,t=0){return(d[e[t+0]]+d[e[t+1]]+d[e[t+2]]+d[e[t+3]]+"-"+d[e[t+4]]+d[e[t+5]]+"-"+d[e[t+6]]+d[e[t+7]]+"-"+d[e[t+8]]+d[e[t+9]]+"-"+d[e[t+10]]+d[e[t+11]]+d[e[t+12]]+d[e[t+13]]+d[e[t+14]]+d[e[t+15]]).toLowerCase()}(r)};var x=s(43210),m=s(85814),p=s.n(m),h=s(16189),g=s(63523),f=s(87979),j=s(66339);function v(){(0,h.useRouter)();let e=(0,h.useParams)(),t=(0,h.useSearchParams)(),s=e?.topicName,a=t?.get("level")||"1",o=t?.get("taskId"),{isAuthenticated:i,isLoading:l,user:c}=(0,f.A)(),[d,m]=(0,x.useState)(!1),[v,y]=(0,x.useState)([]),[b,N]=(0,x.useState)(!0),[w,k]=(0,x.useState)([]),[S,C]=(0,x.useState)({messagesExchanged:0,correctWords:0,averageScore:0,totalScore:0}),[I,T]=(0,x.useState)(null),[E,P]=(0,x.useState)(!1),[A,D]=(0,x.useState)(!1),[U,O]=(0,x.useState)(!1),[$,q]=(0,x.useState)(!1),[_,R]=(0,x.useState)([]),[z,M]=(0,x.useState)(null),[W,L]=(0,x.useState)(null),[B,G]=(0,x.useState)(0),Q=(0,x.useRef)(null),Y=(0,x.useRef)(null),J=(0,x.useRef)(null),F=(0,x.useRef)(null),V=(0,x.useRef)(null),H=(0,x.useRef)(null),K=(0,x.useRef)(null);(0,x.useRef)(null);let[X,Z]=(0,x.useState)([]),[ee,et]=(0,x.useState)(""),es=e=>e.split("-").map(e=>e.charAt(0).toUpperCase()+e.slice(1)).join(" "),er=e=>es(e),ea=(e,t)=>{if(!Y.current)return;if(A&&H.current){console.log("Already speaking, not starting new utterance"),t&&setTimeout(t,500);return}if(D(!0),Y.current.cancel(),Q.current)try{Q.current.stop()}catch(e){console.log("Error stopping recognition during AI speech",e)}let s=((e=>{let t=e.match(/[^\.!\?]+[\.!\?]+|\s*$/g)||[],s=[],r=new Set;return t.forEach(e=>{let t=e.trim();if(t.length>0){let e=t.toLowerCase().replace(/\s+/g," ");r.has(e)||(r.add(e),s.push(t))}}),s.join(" ")})(e).match(/[^\.!\?]+[\.!\?]+|\s*$/g)||[]).filter(e=>e.trim().length>0);if(0===s.length){console.log("No speech chunks to process"),D(!1),t&&setTimeout(t,100);return}let r=0,a=()=>{if(r>=s.length){D(!1),H.current=null,t&&setTimeout(t,300);return}let e=new SpeechSynthesisUtterance(s[r]),n=Y.current?.getVoices()||[],o=n.find(e=>e.name===ee)||n.find(e=>"en-US"===e.lang);o&&(e.voice=o),e.lang="en-US",e.rate=1,e.pitch=1.1,e.onend=()=>{r++,a()},e.onerror=e=>{console.error(`Speech error in chunk ${r}:`,e),r++,a()},H.current=e,Y.current&&Y.current.speak(e)};a();let n=setTimeout(()=>{A&&(D(!1),Y.current&&Y.current.cancel(),t&&t())},3e4);return()=>clearTimeout(n)},en=async()=>{m(!0),y([]),D(!1),O(!1),q(!1),R([]),C({messagesExchanged:0,correctWords:0,averageScore:0,totalScore:0});try{let e=await ed();if(!e){T("Failed to create conversation session"),m(!1);return}M(e),console.log(`Setting sessionId state to: ${e}`);let t=`Welcome to our conversation about ${er(s)}! I'll help you practice English while giving you supportive feedback to improve your speaking skills. Let's begin!`;y([{type:"ai",content:t}]);let r=eo();R([t,r]);let a=async()=>{try{if(!e)return console.error("Cannot record first question: sessionId not available"),null;await eu(r,e),y(e=>[...e,{type:"ai",content:r}])}catch(e){console.error("Error recording first question:",e),y(e=>[...e,{type:"ai",content:r}])}};setTimeout(a,500)}catch(e){console.error("Error in startConversation:",e),T("Failed to start conversation. Please try again."),m(!1)}},eo=()=>{let e=s.toLowerCase();for(let[t,s]of Object.entries({history:"What do you think about Israel's historical development?",heritage:"What aspects of cultural heritage interest you most?",innovation:"What Israeli technological innovations are you familiar with?",technology:"How do you think technology is changing our lives?",economy:"What interests you about Israel's economy or startup ecosystem?",entrepreneurship:"What makes a successful entrepreneur in your opinion?",diplomacy:"What do you think about Israel's diplomatic relations with other countries?",relations:"How important is international cooperation?"}))if(e.includes(t))return s;return`What aspects of ${er(s)} interest you the most?`},ei=()=>{if(q(!1),Q.current)try{Q.current.stop()}catch(e){console.log("Error stopping recognition",e)}Y.current&&Y.current.cancel(),D(!1),F.current&&(clearTimeout(F.current),F.current=null),V.current&&(clearTimeout(V.current),V.current=null)},el=async()=>{m(!1),ei(),y(e=>[...e,{type:"ai",content:"Saving your progress...",feedback:"Please wait while we update your level."}]);try{let e=S.averageScore;if(e<=0&&S.messagesExchanged>0&&(e=Math.round(S.correctWords/S.messagesExchanged*100)),e=Math.max(150,e),o){let t=sessionStorage.getItem(`task_start_${o}`),s=0;t&&(s=Math.floor((Date.now()-parseInt(t))/1e3));let r=(0,g.c4)();r&&await (0,j.v)("/api/tasks",{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${r}`},body:JSON.stringify({taskId:o,TaskScore:e,DurationTask:s,CompletionDate:new Date().toISOString(),SessionId:z,QuestionsCount:B,MessagesExchanged:S.messagesExchanged})})}window.location.href="/topics"}catch(e){console.error("Error in stopConversation:",e),window.location.href="/topics"}},ec=async()=>{if(!E&&o)try{P(!0),ei();let e=(0,g.c4)();if(!e)throw Error("Authentication required");let t="Great job! You've completed the conversation practice.",r=`Your average score: ${S.averageScore}/400. You showed great improvement in your speaking skills!`;y(e=>[...e,{type:"ai",content:t,feedback:r}]),z&&await eu(t,z),ea(t+" "+r,()=>{setTimeout(()=>{window.location.href="/topics"},2e3)});let n=sessionStorage.getItem(`task_start_${o}`),i=0;n&&(i=Math.floor((Date.now()-parseInt(n))/1e3));try{await (0,j.v)("/api/tasks",{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${e}`},body:JSON.stringify({taskId:o,TaskScore:S.averageScore||150,DurationTask:i,CompletionDate:new Date().toISOString(),SessionId:z,QuestionsCount:B,MessagesExchanged:S.messagesExchanged})})}catch(e){console.error("Error completing task:",e)}try{let t=es(s);await (0,j.v)("/api/user-level/update",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${e}`},body:JSON.stringify({topicName:t,currentLevel:parseInt(a||"1"),earnedScore:S.averageScore||150,taskId:o,isCompleted:!0})})}catch(e){console.error("Error updating user level:",e)}}catch(e){console.error("Error completing task:",e)}finally{P(!1)}},ed=async()=>{if(!o)return console.error("Cannot create session: missing taskId"),null;let e=u();K.current=e,M(e);try{let t=(0,g.c4)();if(!t)return console.warn("No authentication token available for session creation"),e;let s=await (0,j.v)("/api/interactive-session",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${t}`},body:JSON.stringify({SessionId:e,TaskId:o,SessionType:"conversation"}),signal:AbortSignal.timeout(8e3)});if(!s.ok)return console.error("Interactive session creation failed"),e;let r=await s.json();if(console.log("Interactive session created:",r),r.SessionId&&r.SessionId!==e)return K.current=r.SessionId,M(r.SessionId),r.SessionId;return e}catch(t){return console.error("Error creating interactive session:",t),e}},eu=async(e,t)=>{let s=t||K.current||z;if(!s)return console.error("Cannot record question: missing sessionId"),null;let r=u();L(r),G(e=>e+1);try{let t=(0,g.c4)();if(!t)return console.warn("No authentication token available for question recording"),r;let a=e.length>1e3?e.substring(0,997)+"...":e,n=await (0,j.v)("/api/question",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${t}`},body:JSON.stringify({QuestionId:r,SessionId:s,QuestionText:a}),signal:AbortSignal.timeout(8e3)});if(!n.ok)return console.error("Question recording failed"),r;let o=await n.json();return console.log("Question recorded successfully:",o),r}catch(e){return console.error("Error recording question:",e),r}};return l||b?(0,r.jsx)("div",{className:"min-h-screen bg-gradient-to-br from-yellow-50 via-orange-50 to-red-50 p-6 flex justify-center items-center",children:(0,r.jsxs)("div",{className:"text-center",children:[(0,r.jsx)("div",{className:"inline-block w-16 h-16 border-4 border-orange-500 border-t-transparent rounded-full animate-spin mb-4"}),(0,r.jsx)("p",{className:"text-xl font-medium text-gray-700",children:"Loading conversation..."})]})}):I?(0,r.jsx)("div",{className:"min-h-screen bg-gradient-to-br from-yellow-50 via-orange-50 to-red-50 p-6 flex justify-center items-center",children:(0,r.jsxs)("div",{className:"max-w-md w-full bg-white p-8 rounded-2xl shadow-xl text-center",children:[(0,r.jsx)("div",{className:"text-red-500 text-5xl mb-4",children:"❌"}),(0,r.jsx)("h2",{className:"text-2xl font-bold text-gray-800 mb-4",children:I}),(0,r.jsx)("p",{className:"text-gray-600 mb-6",children:"We couldn't load the conversation at this time. Please try again later."}),(0,r.jsxs)("div",{className:"flex flex-col gap-4",children:[(0,r.jsx)("button",{onClick:()=>window.location.reload(),className:"px-6 py-3 bg-orange-500 text-white rounded-xl hover:bg-orange-600 transition-all duration-300",children:"Try Again"}),(0,r.jsx)(p(),{href:"/topics",className:"px-6 py-3 bg-gray-200 text-gray-700 rounded-xl hover:bg-gray-300 transition-all duration-300",children:"Back to Topics"})]})]})}):(0,r.jsxs)("div",{className:"jsx-a601612189e0457 min-h-screen bg-gradient-to-br from-yellow-50 via-orange-50 to-red-50 p-6 relative",children:[(0,r.jsx)(n(),{id:"a601612189e0457",children:'@import url("https://fonts.googleapis.com/css2?family=Rubik:wght@400;500;600;700&display=swap");body{font-family:"Rubik",sans-serif}'}),(0,r.jsxs)("h1",{className:"jsx-a601612189e0457 text-3xl font-bold text-center text-gray-800 mb-6 mt-2",children:[er(s)," - Conversation Practice"]}),(0,r.jsxs)("div",{className:"jsx-a601612189e0457 max-w-4xl mx-auto mt-4",children:[!d&&(0,r.jsxs)("div",{className:"jsx-a601612189e0457 bg-white rounded-2xl shadow-xl p-8 mb-8 text-center",children:[(0,r.jsx)("h2",{className:"jsx-a601612189e0457 text-2xl font-bold text-gray-800 mb-4",children:"Conversation Practice"}),(0,r.jsxs)("p",{className:"jsx-a601612189e0457 text-gray-600 mb-6",children:["Practice speaking English about ",(0,r.jsx)("span",{className:"jsx-a601612189e0457 font-bold",children:er(s)}),". Our AI conversation partner will listen to your responses, provide real-time feedback on pronunciation, grammar, and fluency, while helping you improve your speaking skills naturally."]}),(0,r.jsxs)("div",{className:"jsx-a601612189e0457 bg-blue-50 p-4 rounded-lg mb-6",children:[(0,r.jsx)("h3",{className:"jsx-a601612189e0457 text-lg font-semibold text-blue-800 mb-2",children:"What to expect:"}),(0,r.jsxs)("ul",{className:"jsx-a601612189e0457 text-sm text-blue-700 text-left max-w-md mx-auto",children:[(0,r.jsx)("li",{className:"jsx-a601612189e0457",children:"• Real-time pronunciation hints"}),(0,r.jsx)("li",{className:"jsx-a601612189e0457",children:"• Grammar suggestions"}),(0,r.jsx)("li",{className:"jsx-a601612189e0457",children:"• Supportive feedback after each response"}),(0,r.jsx)("li",{className:"jsx-a601612189e0457",children:"• Natural conversation flow"}),(0,r.jsx)("li",{className:"jsx-a601612189e0457",children:"• Score range: 0-400 points per response"})]})]}),w.length>0&&(0,r.jsxs)("div",{className:"jsx-a601612189e0457 mb-6",children:[(0,r.jsx)("h3",{className:"jsx-a601612189e0457 text-xl font-semibold text-gray-700 mb-3",children:"Try to use these words:"}),(0,r.jsx)("div",{className:"jsx-a601612189e0457 flex flex-wrap gap-2 justify-center",children:w.map((e,t)=>(0,r.jsx)("span",{className:"jsx-a601612189e0457 px-3 py-1 bg-orange-100 text-orange-800 rounded-full text-sm",children:e},t))})]}),(0,r.jsx)("button",{onClick:en,className:"jsx-a601612189e0457 px-8 py-4 bg-orange-500 text-white text-xl font-bold rounded-full hover:bg-orange-600 transition-colors shadow-lg",children:"Start Conversation"})]}),d&&(0,r.jsxs)("div",{className:"jsx-a601612189e0457",children:[(0,r.jsxs)("div",{className:"jsx-a601612189e0457 flex justify-between items-center mb-4",children:[(0,r.jsx)("button",{onClick:el,className:"jsx-a601612189e0457 px-6 py-3 bg-red-500 text-white font-bold rounded-xl hover:bg-red-600 transition-colors shadow-lg",children:"End Conversation"}),S.messagesExchanged>=3&&(0,r.jsx)("button",{onClick:ec,disabled:E,className:"jsx-a601612189e0457 px-6 py-3 bg-green-500 text-white font-bold rounded-xl hover:bg-green-600 transition-colors shadow-lg disabled:opacity-50",children:E?"Completing...":"Complete Task"})]}),(0,r.jsxs)("div",{className:"jsx-a601612189e0457 bg-white rounded-2xl shadow-xl p-6 mb-4",children:[(0,r.jsxs)("div",{className:"jsx-a601612189e0457 flex items-center justify-between mb-6",children:[(0,r.jsxs)("div",{className:"jsx-a601612189e0457 flex items-center",children:[(0,r.jsx)("div",{className:`jsx-a601612189e0457 w-12 h-12 rounded-full flex items-center justify-center text-xl ${A?"bg-green-100 animate-pulse":$?"bg-red-100 animate-pulse":"bg-orange-100"}`,children:A?"\uD83D\uDD0A":$?"\uD83C\uDF99️":"\uD83D\uDCAC"}),(0,r.jsxs)("div",{className:"jsx-a601612189e0457 ml-4",children:[(0,r.jsx)("h2",{className:"jsx-a601612189e0457 text-xl font-bold text-gray-900",children:"AI Conversation Partner"}),(0,r.jsx)("p",{className:"jsx-a601612189e0457 text-gray-500 text-sm",children:A?"AI is speaking... Please listen":$?"Your turn to speak - Microphone active":d?"Processing...":"Click Start to begin"})]})]}),S.messagesExchanged>0&&(0,r.jsxs)("div",{className:"jsx-a601612189e0457 bg-gray-100 px-4 py-2 rounded-lg",children:[(0,r.jsx)("div",{className:"jsx-a601612189e0457 text-sm text-gray-500",children:"Your score"}),(0,r.jsxs)("div",{className:"jsx-a601612189e0457 text-2xl font-bold text-orange-600",children:[S.averageScore,"/400"]})]})]}),(0,r.jsxs)("div",{className:"jsx-a601612189e0457 space-y-4 max-h-[400px] overflow-y-auto mb-4",children:[v.map((e,t)=>(0,r.jsxs)("div",{className:`jsx-a601612189e0457 p-4 rounded-lg ${"user"===e.type?"bg-orange-100 ml-12":"feedback"===e.type?"bg-green-50 border border-green-200":e.content.includes("Microphone is active")?"bg-red-50 border border-red-200":"bg-gray-100 mr-12"}`,children:["feedback"===e.type&&(0,r.jsxs)("div",{className:"jsx-a601612189e0457 flex items-start",children:[(0,r.jsx)("div",{className:"jsx-a601612189e0457 text-green-500 mr-2 text-lg",children:"\uD83D\uDCA1"}),(0,r.jsxs)("div",{className:"jsx-a601612189e0457 flex-1",children:[(0,r.jsx)("p",{className:"jsx-a601612189e0457 text-sm font-medium text-green-700",children:"Learning Feedback:"}),(0,r.jsx)("p",{className:"jsx-a601612189e0457 text-sm text-green-800 whitespace-pre-line",children:e.content})]})]}),"ai"===e.type&&e.content.includes("Microphone is active")?(0,r.jsxs)("div",{className:"jsx-a601612189e0457 flex items-center",children:[(0,r.jsx)("div",{className:"jsx-a601612189e0457 w-6 h-6 bg-red-500 rounded-full animate-pulse mr-2"}),(0,r.jsx)("p",{className:"jsx-a601612189e0457 text-gray-800 font-medium",children:e.content})]}):"feedback"!==e.type&&(0,r.jsx)("p",{className:"jsx-a601612189e0457 text-gray-800",children:e.content}),e.feedback&&"feedback"!==e.type&&(0,r.jsx)("p",{className:"jsx-a601612189e0457 mt-2 text-sm text-orange-600 italic",children:e.feedback}),void 0!==e.score&&(0,r.jsxs)("div",{className:"jsx-a601612189e0457 mt-2 flex items-center",children:[(0,r.jsx)("span",{className:"jsx-a601612189e0457 text-sm text-gray-500 mr-2",children:"Score:"}),(0,r.jsxs)("span",{className:`jsx-a601612189e0457 text-sm font-medium ${e.score>=320?"text-green-600":e.score>=240?"text-orange-600":"text-red-600"}`,children:[e.score,"/400"]})]})]},t)),(0,r.jsx)("div",{ref:J,className:"jsx-a601612189e0457"})]}),(0,r.jsxs)("div",{className:"jsx-a601612189e0457 mt-4 bg-gray-50 p-3 rounded-lg border border-gray-200",children:[(0,r.jsx)("h3",{className:"jsx-a601612189e0457 text-sm font-medium text-gray-700 mb-2",children:"Conversation Status:"}),(0,r.jsxs)("div",{className:"jsx-a601612189e0457 flex flex-wrap items-center gap-4 justify-between",children:[(0,r.jsxs)("div",{className:"jsx-a601612189e0457 flex items-center",children:[(0,r.jsx)("div",{className:`jsx-a601612189e0457 w-3 h-3 rounded-full mr-2 ${A?"bg-green-500 animate-pulse":"bg-gray-300"}`}),(0,r.jsx)("span",{className:"jsx-a601612189e0457 text-sm text-gray-600",children:"AI Speaking"})]}),(0,r.jsxs)("div",{className:"jsx-a601612189e0457 flex items-center",children:[(0,r.jsx)("div",{className:`jsx-a601612189e0457 w-3 h-3 rounded-full mr-2 ${$?"bg-red-500 animate-pulse":"bg-gray-300"}`}),(0,r.jsx)("span",{className:"jsx-a601612189e0457 text-sm text-gray-600",children:"Your Turn to Speak"})]}),(0,r.jsxs)("div",{className:"jsx-a601612189e0457 flex items-center",children:[(0,r.jsx)("div",{className:`jsx-a601612189e0457 w-3 h-3 rounded-full mr-2 ${U?"bg-orange-500 animate-pulse":"bg-gray-300"}`}),(0,r.jsx)("span",{className:"jsx-a601612189e0457 text-sm text-gray-600",children:"Speech Detected"})]})]})]}),d&&(0,r.jsxs)("div",{className:"jsx-a601612189e0457 mt-4 bg-gray-50 p-3 rounded-lg border border-gray-200",children:[(0,r.jsx)("h3",{className:"jsx-a601612189e0457 text-sm font-medium text-gray-700 mb-2",children:"Voice Settings:"}),(0,r.jsxs)("div",{className:"jsx-a601612189e0457 flex items-center",children:[(0,r.jsx)("span",{className:"jsx-a601612189e0457 text-sm text-gray-600 mr-2",children:"Voice:"}),(0,r.jsx)("select",{value:ee,onChange:e=>et(e.target.value),className:"jsx-a601612189e0457 px-2 py-1 border border-gray-300 rounded text-sm",children:X.map(e=>(0,r.jsx)("option",{value:e.name,className:"jsx-a601612189e0457",children:e.name},e.name))})]})]})]}),w.length>0&&(0,r.jsxs)("div",{className:"jsx-a601612189e0457 bg-white rounded-2xl shadow-xl p-6",children:[(0,r.jsx)("h3",{className:"jsx-a601612189e0457 text-lg font-semibold text-gray-700 mb-3",children:"Try to use these words:"}),(0,r.jsx)("div",{className:"jsx-a601612189e0457 flex flex-wrap gap-2",children:w.map((e,t)=>(0,r.jsx)("span",{className:"jsx-a601612189e0457 px-3 py-1 bg-orange-100 text-orange-800 rounded-full text-sm",children:e},t))})]})]})]})]})}AbortSignal.timeout||(AbortSignal.timeout=function(e){let t=new AbortController;return setTimeout(()=>t.abort(new DOMException("TimeoutError","TimeoutError")),e),t.signal})},55511:e=>{"use strict";e.exports=require("crypto")},63033:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-unit-async-storage.external.js")},63523:(e,t,s)=>{"use strict";function r(){return null}s.d(t,{c4:()=>r}),s(79119),s(70216)},66339:(e,t,s)=>{"use strict";async function r(e,t={}){return fetch(e,{credentials:"include",headers:{"Content-Type":"application/json",...t.headers||{}},...t})}s.d(t,{v:()=>r})},70810:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>i});var r=s(60687);s(43210);var a=s(85814),n=s.n(a),o=s(16189);function i({children:e}){let t=(0,o.usePathname)().split("/"),s=t[2],a=t[4],i=s.split("-").map(e=>e.charAt(0).toUpperCase()+e.slice(1)).join(" ");return(0,r.jsxs)("div",{className:"min-h-screen bg-gradient-to-br from-yellow-50 via-orange-50 to-red-50",children:[(0,r.jsx)("div",{className:"bg-white shadow-md p-4",children:(0,r.jsxs)("div",{className:"max-w-7xl mx-auto flex justify-between items-center",children:[(0,r.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,r.jsx)(n(),{href:"/topics",className:"p-2 rounded-full hover:bg-gray-100 transition-colors",children:(0,r.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6 text-gray-700",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10 19l-7-7m0 0l7-7m-7 7h18"})})}),(0,r.jsx)("h1",{className:"text-xl font-bold text-gray-800",children:i})]}),(0,r.jsxs)("div",{className:"text-sm font-medium text-gray-500",children:["Task Type: ",(0,r.jsx)("span",{className:"text-orange-600 capitalize",children:a||"Learning"})]})]})}),(0,r.jsx)("main",{className:"max-w-7xl mx-auto p-4",children:e})]})}},75049:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>r});let r=(0,s(12907).registerClientReference)(function(){throw Error("Attempted to call the default export of \"C:\\\\Users\\\\orzil\\\\OneDrive\\\\שולחן העבודה\\\\פגמר\\\\080625\\\\unity-voice-frontend-1\\\\src\\\\app\\\\topics\\\\[topicName]\\\\tasks\\\\conversation\\\\page.tsx\" from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"C:\\Users\\orzil\\OneDrive\\שולחן העבודה\\פגמר\\080625\\unity-voice-frontend-1\\src\\app\\topics\\[topicName]\\tasks\\conversation\\page.tsx","default")},77527:(e,t,s)=>{Promise.resolve().then(s.bind(s,75049))},79428:e=>{"use strict";e.exports=require("buffer")},81880:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>r});let r=(0,s(12907).registerClientReference)(function(){throw Error("Attempted to call the default export of \"C:\\\\Users\\\\orzil\\\\OneDrive\\\\שולחן העבודה\\\\פגמר\\\\080625\\\\unity-voice-frontend-1\\\\src\\\\app\\\\topics\\\\[topicName]\\\\tasks\\\\layout.tsx\" from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"C:\\Users\\orzil\\OneDrive\\שולחן העבודה\\פגמר\\080625\\unity-voice-frontend-1\\src\\app\\topics\\[topicName]\\tasks\\layout.tsx","default")}};var t=require("../../../../../webpack-runtime.js");t.C(e);var s=e=>t(t.s=e),r=t.X(0,[7719,990,5814,5378,1309],()=>s(35835));module.exports=r})();