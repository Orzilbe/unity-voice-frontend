(()=>{var e={};e.id=3255,e.ids=[3255],e.modules={3295:e=>{"use strict";e.exports=require("next/dist/server/app-render/after-task-async-storage.external.js")},10846:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},16189:(e,t,s)=>{"use strict";var r=s(65773);s.o(r,"useParams")&&s.d(t,{useParams:function(){return r.useParams}}),s.o(r,"usePathname")&&s.d(t,{usePathname:function(){return r.usePathname}}),s.o(r,"useRouter")&&s.d(t,{useRouter:function(){return r.useRouter}}),s.o(r,"useSearchParams")&&s.d(t,{useSearchParams:function(){return r.useSearchParams}})},19121:e=>{"use strict";e.exports=require("next/dist/server/app-render/action-async-storage.external.js")},20444:(e,t,s)=>{Promise.resolve().then(s.bind(s,48048))},22806:(e,t,s)=>{"use strict";s.r(t),s.d(t,{GlobalError:()=>o.a,__next_app__:()=>u,pages:()=>d,routeModule:()=>h,tree:()=>c});var r=s(65239),n=s(48088),a=s(88170),o=s.n(a),i=s(30893),l={};for(let e in i)0>["default","tree","pages","GlobalError","__next_app__","routeModule"].indexOf(e)&&(l[e]=()=>i[e]);s.d(t,l);let c={children:["",{children:["topics",{children:["[topicName]",{children:["tasks",{children:["conversation",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(s.bind(s,75049)),"C:\\Projects\\110625\\unity-voice-frontend\\src\\app\\topics\\[topicName]\\tasks\\conversation\\page.tsx"]}]},{}]},{layout:[()=>Promise.resolve().then(s.bind(s,81880)),"C:\\Projects\\110625\\unity-voice-frontend\\src\\app\\topics\\[topicName]\\tasks\\layout.tsx"]}]},{}]},{}]},{layout:[()=>Promise.resolve().then(s.bind(s,94431)),"C:\\Projects\\110625\\unity-voice-frontend\\src\\app\\layout.tsx"],"not-found":[()=>Promise.resolve().then(s.t.bind(s,57398,23)),"next/dist/client/components/not-found-error"],forbidden:[()=>Promise.resolve().then(s.t.bind(s,89999,23)),"next/dist/client/components/forbidden-error"],unauthorized:[()=>Promise.resolve().then(s.t.bind(s,65284,23)),"next/dist/client/components/unauthorized-error"]}]}.children,d=["C:\\Projects\\110625\\unity-voice-frontend\\src\\app\\topics\\[topicName]\\tasks\\conversation\\page.tsx"],u={require:s,loadChunk:()=>Promise.resolve()},h=new r.AppPageRouteModule({definition:{kind:n.RouteKind.APP_PAGE,page:"/topics/[topicName]/tasks/conversation/page",pathname:"/topics/[topicName]/tasks/conversation",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:c}})},27910:e=>{"use strict";e.exports=require("stream")},28354:e=>{"use strict";e.exports=require("util")},29294:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-async-storage.external.js")},33873:e=>{"use strict";e.exports=require("path")},45660:(e,t,s)=>{Promise.resolve().then(s.bind(s,70810))},48048:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>y});var r=s(60687),n=s(76180),a=s.n(n),o=s(55511);let i={randomUUID:o.randomUUID},l=new Uint8Array(256),c=l.length,d=[];for(let e=0;e<256;++e)d.push((e+256).toString(16).slice(1));let u=function(e,t,s){if(i.randomUUID&&!t&&!e)return i.randomUUID();let r=(e=e||{}).random??e.rng?.()??(c>l.length-16&&((0,o.randomFillSync)(l),c=0),l.slice(c,c+=16));if(r.length<16)throw Error("Random bytes length must be >= 16");if(r[6]=15&r[6]|64,r[8]=63&r[8]|128,t){if((s=s||0)<0||s+16>t.length)throw RangeError(`UUID byte range ${s}:${s+15} is out of buffer bounds`);for(let e=0;e<16;++e)t[s+e]=r[e];return t}return function(e,t=0){return(d[e[t+0]]+d[e[t+1]]+d[e[t+2]]+d[e[t+3]]+"-"+d[e[t+4]]+d[e[t+5]]+"-"+d[e[t+6]]+d[e[t+7]]+"-"+d[e[t+8]]+d[e[t+9]]+"-"+d[e[t+10]]+d[e[t+11]]+d[e[t+12]]+d[e[t+13]]+d[e[t+14]]+d[e[t+15]]).toLowerCase()}(r)};var h=s(43210),m=s(85814),p=s.n(m),x=s(16189),g=s(63523),f=s(87979),v=s(66339);function y(){(0,x.useRouter)();let e=(0,x.useParams)(),t=(0,x.useSearchParams)(),s=e?.topicName,n=t?.get("level")||"1",o=t?.get("taskId"),{isAuthenticated:i,isLoading:l,user:c}=(0,f.A)(),[d,m]=(0,h.useState)(!1),[y,j]=(0,h.useState)([]),[b,S]=(0,h.useState)(!0),[N,w]=(0,h.useState)([]),[_,k]=(0,h.useState)({messagesExchanged:0,correctWords:0,averageScore:0,totalScore:0}),[C,I]=(0,h.useState)(null),[P,R]=(0,h.useState)(!1),[T,A]=(0,h.useState)(!1),[E,z]=(0,h.useState)(!1),[F,O]=(0,h.useState)(!1),[$,q]=(0,h.useState)([]),[D,U]=(0,h.useState)(null),[M,L]=(0,h.useState)(null),[W,B]=(0,h.useState)(0),G=(0,h.useRef)(null),J=(0,h.useRef)(null),Q=(0,h.useRef)(null),Y=(0,h.useRef)(null),H=(0,h.useRef)(null),V=(0,h.useRef)(null),K=(0,h.useRef)(null);(0,h.useRef)(null);let[X,Z]=(0,h.useState)([]),[ee,et]=(0,h.useState)(""),es=e=>e.split("-").map(e=>e.charAt(0).toUpperCase()+e.slice(1)).join(" "),er=e=>es(e),en=(e,t)=>{if(!J.current)return;if(T&&V.current){console.log("Already speaking, not starting new utterance"),t&&setTimeout(t,500);return}if(A(!0),J.current.cancel(),G.current)try{G.current.stop()}catch(e){console.log("Error stopping recognition during AI speech",e)}let s=((e=>{let t=e.match(/[^\.!\?]+[\.!\?]+|\s*$/g)||[],s=[],r=new Set;return t.forEach(e=>{let t=e.trim();if(t.length>0){let e=t.toLowerCase().replace(/\s+/g," ");r.has(e)||(r.add(e),s.push(t))}}),s.join(" ")})(e).match(/[^\.!\?]+[\.!\?]+|\s*$/g)||[]).filter(e=>e.trim().length>0);if(0===s.length){console.log("No speech chunks to process"),A(!1),t&&setTimeout(t,100);return}let r=0,n=()=>{if(r>=s.length){A(!1),V.current=null,t&&setTimeout(t,300);return}let e=new SpeechSynthesisUtterance(s[r]),a=J.current?.getVoices()||[],o=a.find(e=>e.name===ee)||a.find(e=>"en-US"===e.lang);o&&(e.voice=o),e.lang="en-US",e.rate=1,e.pitch=1.1,e.onend=()=>{r++,n()},e.onerror=e=>{console.error(`Speech error in chunk ${r}:`,e),r++,n()},V.current=e,J.current&&J.current.speak(e)};n();let a=setTimeout(()=>{T&&(A(!1),J.current&&J.current.cancel(),t&&t())},3e4);return()=>clearTimeout(a)},ea=async()=>{m(!0),j([]),A(!1),z(!1),O(!1),q([]),k({messagesExchanged:0,correctWords:0,averageScore:0,totalScore:0});try{let e=await ed();if(!e){I("Failed to create conversation session"),m(!1);return}U(e),console.log(`Setting sessionId state to: ${e}`);let t=`Welcome to our conversation about ${er(s)}! I'll help you practice English while giving you supportive feedback to improve your speaking skills. Let's begin!`;j([{type:"ai",content:t}]);let r=eo();q([t,r]);let n=async()=>{try{if(!e)return console.error("Cannot record first question: sessionId not available"),null;await eu(r,e),j(e=>[...e,{type:"ai",content:r}])}catch(e){console.error("Error recording first question:",e),j(e=>[...e,{type:"ai",content:r}])}};setTimeout(n,500)}catch(e){console.error("Error in startConversation:",e),I("Failed to start conversation. Please try again."),m(!1)}},eo=()=>{let e=s.toLowerCase();for(let[t,s]of Object.entries({history:"What do you think about Israel's historical development?",heritage:"What aspects of cultural heritage interest you most?",innovation:"What Israeli technological innovations are you familiar with?",technology:"How do you think technology is changing our lives?",economy:"What interests you about Israel's economy or startup ecosystem?",entrepreneurship:"What makes a successful entrepreneur in your opinion?",diplomacy:"What do you think about Israel's diplomatic relations with other countries?",relations:"How important is international cooperation?"}))if(e.includes(t))return s;return`What aspects of ${er(s)} interest you the most?`},ei=()=>{if(O(!1),G.current)try{G.current.stop()}catch(e){console.log("Error stopping recognition",e)}J.current&&J.current.cancel(),A(!1),Y.current&&(clearTimeout(Y.current),Y.current=null),H.current&&(clearTimeout(H.current),H.current=null)},el=async()=>{m(!1),ei(),j(e=>[...e,{type:"ai",content:"Saving your progress...",feedback:"Please wait while we update your level."}]);try{let e=_.averageScore;if(e<=0&&_.messagesExchanged>0&&(e=Math.round(_.correctWords/_.messagesExchanged*100)),e=Math.max(150,e),o){let t=sessionStorage.getItem(`task_start_${o}`),s=0;t&&(s=Math.floor((Date.now()-parseInt(t))/1e3));let r=(0,g.c4)();r&&await (0,v.v)("/api/tasks",{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${r}`},body:JSON.stringify({taskId:o,TaskScore:e,DurationTask:s,CompletionDate:new Date().toISOString(),SessionId:D,QuestionsCount:W,MessagesExchanged:_.messagesExchanged})})}window.location.href="/topics"}catch(e){console.error("Error in stopConversation:",e),window.location.href="/topics"}},ec=async()=>{if(!P&&o)try{R(!0),ei();let e=(0,g.c4)();if(!e)throw Error("Authentication required");let t="Great job! You've completed the conversation practice.",r=`Your average score: ${_.averageScore}/400. You showed great improvement in your speaking skills!`;j(e=>[...e,{type:"ai",content:t,feedback:r}]),D&&await eu(t,D),en(t+" "+r,()=>{setTimeout(()=>{window.location.href="/topics"},2e3)});let a=sessionStorage.getItem(`task_start_${o}`),i=0;a&&(i=Math.floor((Date.now()-parseInt(a))/1e3));try{await (0,v.v)("/api/tasks",{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${e}`},body:JSON.stringify({taskId:o,TaskScore:_.averageScore||150,DurationTask:i,CompletionDate:new Date().toISOString(),SessionId:D,QuestionsCount:W,MessagesExchanged:_.messagesExchanged})})}catch(e){console.error("Error completing task:",e)}try{let t=es(s);await (0,v.v)("/api/user-level/update",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${e}`},body:JSON.stringify({topicName:t,currentLevel:parseInt(n||"1"),earnedScore:_.averageScore||150,taskId:o,isCompleted:!0})}),await (0,v.v)("/api/user-level/update",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${e}`},body:JSON.stringify({topicName:t,currentLevel:parseInt(n||"1")+1,taskId:o,isCompleted:!1})})}catch(e){console.error("Error updating user level:",e)}}catch(e){console.error("Error completing task:",e)}finally{R(!1)}},ed=async()=>{if(!o)return console.error("Cannot create session: missing taskId"),null;let e=u();K.current=e,U(e);try{let t=(0,g.c4)();if(!t)return console.warn("No authentication token available for session creation"),e;let s=await (0,v.v)("/api/interactive-session",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${t}`},body:JSON.stringify({SessionId:e,TaskId:o,SessionType:"conversation"}),signal:AbortSignal.timeout(8e3)});if(!s.ok)return console.error("Interactive session creation failed"),e;let r=await s.json();if(console.log("Interactive session created:",r),r.SessionId&&r.SessionId!==e)return K.current=r.SessionId,U(r.SessionId),r.SessionId;return e}catch(t){return console.error("Error creating interactive session:",t),e}},eu=async(e,t)=>{let s=t||K.current||D;if(!s)return console.error("Cannot record question: missing sessionId"),null;let r=u();L(r),B(e=>e+1);try{let t=(0,g.c4)();if(!t)return console.warn("No authentication token available for question recording"),r;let n=e.length>1e3?e.substring(0,997)+"...":e,a=await (0,v.v)("/api/question",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${t}`},body:JSON.stringify({QuestionId:r,SessionId:s,QuestionText:n}),signal:AbortSignal.timeout(8e3)});if(!a.ok)return console.error("Question recording failed"),r;let o=await a.json();return console.log("Question recorded successfully:",o),r}catch(e){return console.error("Error recording question:",e),r}};return l||b?(0,r.jsx)("div",{className:"min-h-screen bg-gradient-to-br from-yellow-50 via-orange-50 to-red-50 p-6 flex justify-center items-center",children:(0,r.jsxs)("div",{className:"text-center",children:[(0,r.jsx)("div",{className:"inline-block w-16 h-16 border-4 border-orange-500 border-t-transparent rounded-full animate-spin mb-4"}),(0,r.jsx)("p",{className:"text-xl font-medium text-gray-700",children:"Loading conversation..."})]})}):C?(0,r.jsx)("div",{className:"min-h-screen bg-gradient-to-br from-yellow-50 via-orange-50 to-red-50 p-6 flex justify-center items-center",children:(0,r.jsxs)("div",{className:"max-w-md w-full bg-white p-8 rounded-2xl shadow-xl text-center",children:[(0,r.jsx)("div",{className:"text-red-500 text-5xl mb-4",children:"❌"}),(0,r.jsx)("h2",{className:"text-2xl font-bold text-gray-800 mb-4",children:C}),(0,r.jsx)("p",{className:"text-gray-600 mb-6",children:"We couldn't load the conversation at this time. Please try again later."}),(0,r.jsxs)("div",{className:"flex flex-col gap-4",children:[(0,r.jsx)("button",{onClick:()=>window.location.reload(),className:"px-6 py-3 bg-orange-500 text-white rounded-xl hover:bg-orange-600 transition-all duration-300",children:"Try Again"}),(0,r.jsx)(p(),{href:"/topics",className:"px-6 py-3 bg-gray-200 text-gray-700 rounded-xl hover:bg-gray-300 transition-all duration-300",children:"Back to Topics"})]})]})}):(0,r.jsxs)("div",{className:"jsx-a601612189e0457 min-h-screen bg-gradient-to-br from-yellow-50 via-orange-50 to-red-50 p-6 relative",children:[(0,r.jsx)(a(),{id:"a601612189e0457",children:'@import url("https://fonts.googleapis.com/css2?family=Rubik:wght@400;500;600;700&display=swap");body{font-family:"Rubik",sans-serif}'}),(0,r.jsxs)("h1",{className:"jsx-a601612189e0457 text-3xl font-bold text-center text-gray-800 mb-6 mt-2",children:[er(s)," - Conversation Practice"]}),(0,r.jsxs)("div",{className:"jsx-a601612189e0457 max-w-4xl mx-auto mt-4",children:[!d&&(0,r.jsxs)("div",{className:"jsx-a601612189e0457 bg-white rounded-2xl shadow-xl p-8 mb-8 text-center",children:[(0,r.jsx)("h2",{className:"jsx-a601612189e0457 text-2xl font-bold text-gray-800 mb-4",children:"Conversation Practice"}),(0,r.jsxs)("p",{className:"jsx-a601612189e0457 text-gray-600 mb-6",children:["Practice speaking English about ",(0,r.jsx)("span",{className:"jsx-a601612189e0457 font-bold",children:er(s)}),". Our AI conversation partner will listen to your responses, provide real-time feedback on pronunciation, grammar, and fluency, while helping you improve your speaking skills naturally."]}),(0,r.jsxs)("div",{className:"jsx-a601612189e0457 bg-blue-50 p-4 rounded-lg mb-6",children:[(0,r.jsx)("h3",{className:"jsx-a601612189e0457 text-lg font-semibold text-blue-800 mb-2",children:"What to expect:"}),(0,r.jsxs)("ul",{className:"jsx-a601612189e0457 text-sm text-blue-700 text-left max-w-md mx-auto",children:[(0,r.jsx)("li",{className:"jsx-a601612189e0457",children:"• Real-time pronunciation hints"}),(0,r.jsx)("li",{className:"jsx-a601612189e0457",children:"• Grammar suggestions"}),(0,r.jsx)("li",{className:"jsx-a601612189e0457",children:"• Supportive feedback after each response"}),(0,r.jsx)("li",{className:"jsx-a601612189e0457",children:"• Natural conversation flow"}),(0,r.jsx)("li",{className:"jsx-a601612189e0457",children:"• Score range: 0-400 points per response"})]})]}),N.length>0&&(0,r.jsxs)("div",{className:"jsx-a601612189e0457 mb-6",children:[(0,r.jsx)("h3",{className:"jsx-a601612189e0457 text-xl font-semibold text-gray-700 mb-3",children:"Try to use these words:"}),(0,r.jsx)("div",{className:"jsx-a601612189e0457 flex flex-wrap gap-2 justify-center",children:N.map((e,t)=>(0,r.jsx)("span",{className:"jsx-a601612189e0457 px-3 py-1 bg-orange-100 text-orange-800 rounded-full text-sm",children:e},t))})]}),(0,r.jsx)("button",{onClick:ea,className:"jsx-a601612189e0457 px-8 py-4 bg-orange-500 text-white text-xl font-bold rounded-full hover:bg-orange-600 transition-colors shadow-lg",children:"Start Conversation"})]}),d&&(0,r.jsxs)("div",{className:"jsx-a601612189e0457",children:[(0,r.jsxs)("div",{className:"jsx-a601612189e0457 flex justify-between items-center mb-4",children:[(0,r.jsx)("button",{onClick:el,className:"jsx-a601612189e0457 px-6 py-3 bg-red-500 text-white font-bold rounded-xl hover:bg-red-600 transition-colors shadow-lg",children:"End Conversation"}),_.messagesExchanged>=3&&(0,r.jsx)("button",{onClick:ec,disabled:P,className:"jsx-a601612189e0457 px-6 py-3 bg-green-500 text-white font-bold rounded-xl hover:bg-green-600 transition-colors shadow-lg disabled:opacity-50",children:P?"Completing...":"Complete Task"})]}),(0,r.jsxs)("div",{className:"jsx-a601612189e0457 bg-white rounded-2xl shadow-xl p-6 mb-4",children:[(0,r.jsxs)("div",{className:"jsx-a601612189e0457 flex items-center justify-between mb-6",children:[(0,r.jsxs)("div",{className:"jsx-a601612189e0457 flex items-center",children:[(0,r.jsx)("div",{className:`jsx-a601612189e0457 w-12 h-12 rounded-full flex items-center justify-center text-xl ${T?"bg-green-100 animate-pulse":F?"bg-red-100 animate-pulse":"bg-orange-100"}`,children:T?"\uD83D\uDD0A":F?"\uD83C\uDF99️":"\uD83D\uDCAC"}),(0,r.jsxs)("div",{className:"jsx-a601612189e0457 ml-4",children:[(0,r.jsx)("h2",{className:"jsx-a601612189e0457 text-xl font-bold text-gray-900",children:"AI Conversation Partner"}),(0,r.jsx)("p",{className:"jsx-a601612189e0457 text-gray-500 text-sm",children:T?"AI is speaking... Please listen":F?"Your turn to speak - Microphone active":d?"Processing...":"Click Start to begin"})]})]}),_.messagesExchanged>0&&(0,r.jsxs)("div",{className:"jsx-a601612189e0457 bg-gray-100 px-4 py-2 rounded-lg",children:[(0,r.jsx)("div",{className:"jsx-a601612189e0457 text-sm text-gray-500",children:"Your score"}),(0,r.jsxs)("div",{className:"jsx-a601612189e0457 text-2xl font-bold text-orange-600",children:[_.averageScore,"/400"]})]})]}),(0,r.jsxs)("div",{className:"jsx-a601612189e0457 space-y-4 max-h-[400px] overflow-y-auto mb-4",children:[y.map((e,t)=>(0,r.jsxs)("div",{className:`jsx-a601612189e0457 p-4 rounded-lg ${"user"===e.type?"bg-orange-100 ml-12":"feedback"===e.type?"bg-green-50 border border-green-200":e.content.includes("Microphone is active")?"bg-red-50 border border-red-200":"bg-gray-100 mr-12"}`,children:["feedback"===e.type&&(0,r.jsxs)("div",{className:"jsx-a601612189e0457 flex items-start",children:[(0,r.jsx)("div",{className:"jsx-a601612189e0457 text-green-500 mr-2 text-lg",children:"\uD83D\uDCA1"}),(0,r.jsxs)("div",{className:"jsx-a601612189e0457 flex-1",children:[(0,r.jsx)("p",{className:"jsx-a601612189e0457 text-sm font-medium text-green-700",children:"Learning Feedback:"}),(0,r.jsx)("p",{className:"jsx-a601612189e0457 text-sm text-green-800 whitespace-pre-line",children:e.content})]})]}),"ai"===e.type&&e.content.includes("Microphone is active")?(0,r.jsxs)("div",{className:"jsx-a601612189e0457 flex items-center",children:[(0,r.jsx)("div",{className:"jsx-a601612189e0457 w-6 h-6 bg-red-500 rounded-full animate-pulse mr-2"}),(0,r.jsx)("p",{className:"jsx-a601612189e0457 text-gray-800 font-medium",children:e.content})]}):"feedback"!==e.type&&(0,r.jsx)("p",{className:"jsx-a601612189e0457 text-gray-800",children:e.content}),e.feedback&&"feedback"!==e.type&&(0,r.jsx)("p",{className:"jsx-a601612189e0457 mt-2 text-sm text-orange-600 italic",children:e.feedback}),void 0!==e.score&&(0,r.jsxs)("div",{className:"jsx-a601612189e0457 mt-2 flex items-center",children:[(0,r.jsx)("span",{className:"jsx-a601612189e0457 text-sm text-gray-500 mr-2",children:"Score:"}),(0,r.jsxs)("span",{className:`jsx-a601612189e0457 text-sm font-medium ${e.score>=320?"text-green-600":e.score>=240?"text-orange-600":"text-red-600"}`,children:[e.score,"/400"]})]})]},t)),(0,r.jsx)("div",{ref:Q,className:"jsx-a601612189e0457"})]}),(0,r.jsxs)("div",{className:"jsx-a601612189e0457 mt-4 bg-gray-50 p-3 rounded-lg border border-gray-200",children:[(0,r.jsx)("h3",{className:"jsx-a601612189e0457 text-sm font-medium text-gray-700 mb-2",children:"Conversation Status:"}),(0,r.jsxs)("div",{className:"jsx-a601612189e0457 flex flex-wrap items-center gap-4 justify-between",children:[(0,r.jsxs)("div",{className:"jsx-a601612189e0457 flex items-center",children:[(0,r.jsx)("div",{className:`jsx-a601612189e0457 w-3 h-3 rounded-full mr-2 ${T?"bg-green-500 animate-pulse":"bg-gray-300"}`}),(0,r.jsx)("span",{className:"jsx-a601612189e0457 text-sm text-gray-600",children:"AI Speaking"})]}),(0,r.jsxs)("div",{className:"jsx-a601612189e0457 flex items-center",children:[(0,r.jsx)("div",{className:`jsx-a601612189e0457 w-3 h-3 rounded-full mr-2 ${F?"bg-red-500 animate-pulse":"bg-gray-300"}`}),(0,r.jsx)("span",{className:"jsx-a601612189e0457 text-sm text-gray-600",children:"Your Turn to Speak"})]}),(0,r.jsxs)("div",{className:"jsx-a601612189e0457 flex items-center",children:[(0,r.jsx)("div",{className:`jsx-a601612189e0457 w-3 h-3 rounded-full mr-2 ${E?"bg-orange-500 animate-pulse":"bg-gray-300"}`}),(0,r.jsx)("span",{className:"jsx-a601612189e0457 text-sm text-gray-600",children:"Speech Detected"})]})]})]}),d&&(0,r.jsxs)("div",{className:"jsx-a601612189e0457 mt-4 bg-gray-50 p-3 rounded-lg border border-gray-200",children:[(0,r.jsx)("h3",{className:"jsx-a601612189e0457 text-sm font-medium text-gray-700 mb-2",children:"Voice Settings:"}),(0,r.jsxs)("div",{className:"jsx-a601612189e0457 flex items-center",children:[(0,r.jsx)("span",{className:"jsx-a601612189e0457 text-sm text-gray-600 mr-2",children:"Voice:"}),(0,r.jsx)("select",{value:ee,onChange:e=>et(e.target.value),className:"jsx-a601612189e0457 px-2 py-1 border border-gray-300 rounded text-sm",children:X.map(e=>(0,r.jsx)("option",{value:e.name,className:"jsx-a601612189e0457",children:e.name},e.name))})]})]})]}),N.length>0&&(0,r.jsxs)("div",{className:"jsx-a601612189e0457 bg-white rounded-2xl shadow-xl p-6",children:[(0,r.jsx)("h3",{className:"jsx-a601612189e0457 text-lg font-semibold text-gray-700 mb-3",children:"Try to use these words:"}),(0,r.jsx)("div",{className:"jsx-a601612189e0457 flex flex-wrap gap-2",children:N.map((e,t)=>(0,r.jsx)("span",{className:"jsx-a601612189e0457 px-3 py-1 bg-orange-100 text-orange-800 rounded-full text-sm",children:e},t))})]})]})]})]})}AbortSignal.timeout||(AbortSignal.timeout=function(e){let t=new AbortController;return setTimeout(()=>t.abort(new DOMException("TimeoutError","TimeoutError")),e),t.signal})},55511:e=>{"use strict";e.exports=require("crypto")},56397:()=>{},62300:(e,t,s)=>{Promise.resolve().then(s.bind(s,75049))},63033:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-unit-async-storage.external.js")},63523:(e,t,s)=>{"use strict";function r(){return null}s.d(t,{c4:()=>r}),s(79119),s(70216)},66339:(e,t,s)=>{"use strict";async function r(e,t={}){return fetch(e,{credentials:"include",headers:{"Content-Type":"application/json",...t.headers||{}},...t})}s.d(t,{v:()=>r})},70810:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>i});var r=s(60687);s(43210);var n=s(85814),a=s.n(n),o=s(16189);function i({children:e}){let t=(0,o.usePathname)().split("/"),s=t[2],n=t[4],i=s.split("-").map(e=>e.charAt(0).toUpperCase()+e.slice(1)).join(" ");return(0,r.jsxs)("div",{className:"min-h-screen bg-gradient-to-br from-yellow-50 via-orange-50 to-red-50",children:[(0,r.jsx)("div",{className:"bg-white shadow-md p-4",children:(0,r.jsxs)("div",{className:"max-w-7xl mx-auto flex justify-between items-center",children:[(0,r.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,r.jsx)(a(),{href:"/topics",className:"p-2 rounded-full hover:bg-gray-100 transition-colors",children:(0,r.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6 text-gray-700",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10 19l-7-7m0 0l7-7m-7 7h18"})})}),(0,r.jsx)("h1",{className:"text-xl font-bold text-gray-800",children:i})]}),(0,r.jsxs)("div",{className:"text-sm font-medium text-gray-500",children:["Task Type: ",(0,r.jsx)("span",{className:"text-orange-600 capitalize",children:n||"Learning"})]})]})}),(0,r.jsx)("main",{className:"max-w-7xl mx-auto p-4",children:e})]})}},75049:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>r});let r=(0,s(12907).registerClientReference)(function(){throw Error("Attempted to call the default export of \"C:\\\\Projects\\\\110625\\\\unity-voice-frontend\\\\src\\\\app\\\\topics\\\\[topicName]\\\\tasks\\\\conversation\\\\page.tsx\" from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"C:\\Projects\\110625\\unity-voice-frontend\\src\\app\\topics\\[topicName]\\tasks\\conversation\\page.tsx","default")},75913:(e,t,s)=>{"use strict";s(56397);var r=s(43210),n=function(e){return e&&"object"==typeof e&&"default"in e?e:{default:e}}(r),a="undefined"!=typeof process&&process.env&&!0,o=function(e){return"[object String]"===Object.prototype.toString.call(e)},i=function(){function e(e){var t=void 0===e?{}:e,s=t.name,r=void 0===s?"stylesheet":s,n=t.optimizeForSpeed,i=void 0===n?a:n;l(o(r),"`name` must be a string"),this._name=r,this._deletedRulePlaceholder="#"+r+"-deleted-rule____{}",l("boolean"==typeof i,"`optimizeForSpeed` must be a boolean"),this._optimizeForSpeed=i,this._serverSheet=void 0,this._tags=[],this._injected=!1,this._rulesCount=0,this._nonce=null}var t,s=e.prototype;return s.setOptimizeForSpeed=function(e){l("boolean"==typeof e,"`setOptimizeForSpeed` accepts a boolean"),l(0===this._rulesCount,"optimizeForSpeed cannot be when rules have already been inserted"),this.flush(),this._optimizeForSpeed=e,this.inject()},s.isOptimizeForSpeed=function(){return this._optimizeForSpeed},s.inject=function(){var e=this;l(!this._injected,"sheet already injected"),this._injected=!0,this._serverSheet={cssRules:[],insertRule:function(t,s){return"number"==typeof s?e._serverSheet.cssRules[s]={cssText:t}:e._serverSheet.cssRules.push({cssText:t}),s},deleteRule:function(t){e._serverSheet.cssRules[t]=null}}},s.getSheetForTag=function(e){if(e.sheet)return e.sheet;for(var t=0;t<document.styleSheets.length;t++)if(document.styleSheets[t].ownerNode===e)return document.styleSheets[t]},s.getSheet=function(){return this.getSheetForTag(this._tags[this._tags.length-1])},s.insertRule=function(e,t){return l(o(e),"`insertRule` accepts only strings"),"number"!=typeof t&&(t=this._serverSheet.cssRules.length),this._serverSheet.insertRule(e,t),this._rulesCount++},s.replaceRule=function(e,t){this._optimizeForSpeed;var s=this._serverSheet;if(t.trim()||(t=this._deletedRulePlaceholder),!s.cssRules[e])return e;s.deleteRule(e);try{s.insertRule(t,e)}catch(r){a||console.warn("StyleSheet: illegal rule: \n\n"+t+"\n\nSee https://stackoverflow.com/q/20007992 for more info"),s.insertRule(this._deletedRulePlaceholder,e)}return e},s.deleteRule=function(e){this._serverSheet.deleteRule(e)},s.flush=function(){this._injected=!1,this._rulesCount=0,this._serverSheet.cssRules=[]},s.cssRules=function(){return this._serverSheet.cssRules},s.makeStyleTag=function(e,t,s){t&&l(o(t),"makeStyleTag accepts only strings as second parameter");var r=document.createElement("style");this._nonce&&r.setAttribute("nonce",this._nonce),r.type="text/css",r.setAttribute("data-"+e,""),t&&r.appendChild(document.createTextNode(t));var n=document.head||document.getElementsByTagName("head")[0];return s?n.insertBefore(r,s):n.appendChild(r),r},t=[{key:"length",get:function(){return this._rulesCount}}],function(e,t){for(var s=0;s<t.length;s++){var r=t[s];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}(e.prototype,t),e}();function l(e,t){if(!e)throw Error("StyleSheet: "+t+".")}var c=function(e){for(var t=5381,s=e.length;s;)t=33*t^e.charCodeAt(--s);return t>>>0},d={};function u(e,t){if(!t)return"jsx-"+e;var s=String(t),r=e+s;return d[r]||(d[r]="jsx-"+c(e+"-"+s)),d[r]}function h(e,t){var s=e+(t=t.replace(/\/style/gi,"\\/style"));return d[s]||(d[s]=t.replace(/__jsx-style-dynamic-selector/g,e)),d[s]}var m=function(){function e(e){var t=void 0===e?{}:e,s=t.styleSheet,r=void 0===s?null:s,n=t.optimizeForSpeed,a=void 0!==n&&n;this._sheet=r||new i({name:"styled-jsx",optimizeForSpeed:a}),this._sheet.inject(),r&&"boolean"==typeof a&&(this._sheet.setOptimizeForSpeed(a),this._optimizeForSpeed=this._sheet.isOptimizeForSpeed()),this._fromServer=void 0,this._indices={},this._instancesCounts={}}var t=e.prototype;return t.add=function(e){var t=this;void 0===this._optimizeForSpeed&&(this._optimizeForSpeed=Array.isArray(e.children),this._sheet.setOptimizeForSpeed(this._optimizeForSpeed),this._optimizeForSpeed=this._sheet.isOptimizeForSpeed());var s=this.getIdAndRules(e),r=s.styleId,n=s.rules;if(r in this._instancesCounts){this._instancesCounts[r]+=1;return}var a=n.map(function(e){return t._sheet.insertRule(e)}).filter(function(e){return -1!==e});this._indices[r]=a,this._instancesCounts[r]=1},t.remove=function(e){var t=this,s=this.getIdAndRules(e).styleId;if(function(e,t){if(!e)throw Error("StyleSheetRegistry: "+t+".")}(s in this._instancesCounts,"styleId: `"+s+"` not found"),this._instancesCounts[s]-=1,this._instancesCounts[s]<1){var r=this._fromServer&&this._fromServer[s];r?(r.parentNode.removeChild(r),delete this._fromServer[s]):(this._indices[s].forEach(function(e){return t._sheet.deleteRule(e)}),delete this._indices[s]),delete this._instancesCounts[s]}},t.update=function(e,t){this.add(t),this.remove(e)},t.flush=function(){this._sheet.flush(),this._sheet.inject(),this._fromServer=void 0,this._indices={},this._instancesCounts={}},t.cssRules=function(){var e=this,t=this._fromServer?Object.keys(this._fromServer).map(function(t){return[t,e._fromServer[t]]}):[],s=this._sheet.cssRules();return t.concat(Object.keys(this._indices).map(function(t){return[t,e._indices[t].map(function(e){return s[e].cssText}).join(e._optimizeForSpeed?"":"\n")]}).filter(function(e){return!!e[1]}))},t.styles=function(e){var t,s;return t=this.cssRules(),void 0===(s=e)&&(s={}),t.map(function(e){var t=e[0],r=e[1];return n.default.createElement("style",{id:"__"+t,key:"__"+t,nonce:s.nonce?s.nonce:void 0,dangerouslySetInnerHTML:{__html:r}})})},t.getIdAndRules=function(e){var t=e.children,s=e.dynamic,r=e.id;if(s){var n=u(r,s);return{styleId:n,rules:Array.isArray(t)?t.map(function(e){return h(n,e)}):[h(n,t)]}}return{styleId:u(r),rules:Array.isArray(t)?t:[t]}},t.selectFromServer=function(){return Array.prototype.slice.call(document.querySelectorAll('[id^="__jsx-"]')).reduce(function(e,t){return e[t.id.slice(2)]=t,e},{})},e}(),p=r.createContext(null);p.displayName="StyleSheetContext";n.default.useInsertionEffect||n.default.useLayoutEffect;var x=void 0;function g(e){var t=x||r.useContext(p);return t&&t.add(e),null}g.dynamic=function(e){return e.map(function(e){return u(e[0],e[1])}).join(" ")},t.style=g},76180:(e,t,s)=>{"use strict";e.exports=s(75913).style},79428:e=>{"use strict";e.exports=require("buffer")},81880:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>r});let r=(0,s(12907).registerClientReference)(function(){throw Error("Attempted to call the default export of \"C:\\\\Projects\\\\110625\\\\unity-voice-frontend\\\\src\\\\app\\\\topics\\\\[topicName]\\\\tasks\\\\layout.tsx\" from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"C:\\Projects\\110625\\unity-voice-frontend\\src\\app\\topics\\[topicName]\\tasks\\layout.tsx","default")},87516:(e,t,s)=>{Promise.resolve().then(s.bind(s,81880))}};var t=require("../../../../../webpack-runtime.js");t.C(e);var s=e=>t(t.s=e),r=t.X(0,[7719,990,5814,9119,3957],()=>s(22806));module.exports=r})();