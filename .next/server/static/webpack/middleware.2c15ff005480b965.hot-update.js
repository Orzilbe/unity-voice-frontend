"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
self["webpackHotUpdate_N_E"]("middleware",{

/***/ "(middleware)/./src/middleware.ts":
/*!***************************!*\
  !*** ./src/middleware.ts ***!
  \***************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   config: () => (/* binding */ config),\n/* harmony export */   middleware: () => (/* binding */ middleware)\n/* harmony export */ });\n/* harmony import */ var next_server__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/server */ \"(middleware)/./node_modules/next/dist/esm/api/server.js\");\n// unity-voice-frontend/src/middleware.ts\n\nfunction middleware(request) {\n    // Get token from cookies\n    const token = request.cookies.get('auth_token')?.value;\n    // Define protected and auth routes\n    const protectedRoutes = [\n        '/topics',\n        '/profile',\n        '/dashboard',\n        '/hall-of-fame'\n    ];\n    const authRoutes = [\n        '/login',\n        '/signup'\n    ];\n    const pathname = request.nextUrl.pathname;\n    // Check if current path is protected\n    const isProtectedRoute = protectedRoutes.some((route)=>pathname.startsWith(route));\n    const isAuthRoute = authRoutes.some((route)=>pathname.startsWith(route));\n    // If no token and trying to access protected route, redirect to login\n    if (isProtectedRoute && !token) {\n        const url = new URL('/login', request.url);\n        url.searchParams.set('redirect', pathname);\n        return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.redirect(url);\n    }\n    // If has token and trying to access auth routes, redirect to topics\n    if (isAuthRoute && token) {\n        return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.redirect(new URL('/topics', request.url));\n    }\n    return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.next();\n}\nconst config = {\n    matcher: [\n        /*\r\n     * Match all request paths except for the ones starting with:\r\n     * - api (API routes)\r\n     * - _next/static (static files)\r\n     * - _next/image (image optimization files)\r\n     * - favicon.ico (favicon file)\r\n     * - public folder\r\n     */ '/((?!api|_next/static|_next/image|favicon.ico|public).*)'\n    ]\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKG1pZGRsZXdhcmUpLy4vc3JjL21pZGRsZXdhcmUudHMiLCJtYXBwaW5ncyI6Ijs7Ozs7O0FBQUEseUNBQXlDO0FBQ0U7QUFHcEMsU0FBU0MsV0FBV0MsT0FBb0I7SUFDN0MseUJBQXlCO0lBQ3pCLE1BQU1DLFFBQVFELFFBQVFFLE9BQU8sQ0FBQ0MsR0FBRyxDQUFDLGVBQWVDO0lBRWpELG1DQUFtQztJQUNuQyxNQUFNQyxrQkFBa0I7UUFBQztRQUFXO1FBQVk7UUFBYztLQUFnQjtJQUM5RSxNQUFNQyxhQUFhO1FBQUM7UUFBVTtLQUFVO0lBRXhDLE1BQU1DLFdBQVdQLFFBQVFRLE9BQU8sQ0FBQ0QsUUFBUTtJQUV6QyxxQ0FBcUM7SUFDckMsTUFBTUUsbUJBQW1CSixnQkFBZ0JLLElBQUksQ0FBQ0MsQ0FBQUEsUUFDNUNKLFNBQVNLLFVBQVUsQ0FBQ0Q7SUFHdEIsTUFBTUUsY0FBY1AsV0FBV0ksSUFBSSxDQUFDQyxDQUFBQSxRQUNsQ0osU0FBU0ssVUFBVSxDQUFDRDtJQUd0QixzRUFBc0U7SUFDdEUsSUFBSUYsb0JBQW9CLENBQUNSLE9BQU87UUFDOUIsTUFBTWEsTUFBTSxJQUFJQyxJQUFJLFVBQVVmLFFBQVFjLEdBQUc7UUFDekNBLElBQUlFLFlBQVksQ0FBQ0MsR0FBRyxDQUFDLFlBQVlWO1FBQ2pDLE9BQU9ULHFEQUFZQSxDQUFDb0IsUUFBUSxDQUFDSjtJQUMvQjtJQUVBLG9FQUFvRTtJQUNwRSxJQUFJRCxlQUFlWixPQUFPO1FBQ3hCLE9BQU9ILHFEQUFZQSxDQUFDb0IsUUFBUSxDQUFDLElBQUlILElBQUksV0FBV2YsUUFBUWMsR0FBRztJQUM3RDtJQUVBLE9BQU9oQixxREFBWUEsQ0FBQ3FCLElBQUk7QUFDMUI7QUFFTyxNQUFNQyxTQUFTO0lBQ3BCQyxTQUFTO1FBQ1A7Ozs7Ozs7S0FPQyxHQUNEO0tBQ0Q7QUFDSCxFQUFFIiwic291cmNlcyI6WyJDOlxcVXNlcnNcXG9yemlsXFxPbmVEcml2ZVxc16nXldec15fXnyDXlNei15HXldeT15RcXDA3MDUyNVxcdW5pdHktdm9pY2UtZnJvbnRlbmQtMVxcc3JjXFxtaWRkbGV3YXJlLnRzIl0sInNvdXJjZXNDb250ZW50IjpbIi8vIHVuaXR5LXZvaWNlLWZyb250ZW5kL3NyYy9taWRkbGV3YXJlLnRzXHJcbmltcG9ydCB7IE5leHRSZXNwb25zZSB9IGZyb20gJ25leHQvc2VydmVyJztcclxuaW1wb3J0IHR5cGUgeyBOZXh0UmVxdWVzdCB9IGZyb20gJ25leHQvc2VydmVyJztcclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBtaWRkbGV3YXJlKHJlcXVlc3Q6IE5leHRSZXF1ZXN0KSB7XHJcbiAgLy8gR2V0IHRva2VuIGZyb20gY29va2llc1xyXG4gIGNvbnN0IHRva2VuID0gcmVxdWVzdC5jb29raWVzLmdldCgnYXV0aF90b2tlbicpPy52YWx1ZTtcclxuICBcclxuICAvLyBEZWZpbmUgcHJvdGVjdGVkIGFuZCBhdXRoIHJvdXRlc1xyXG4gIGNvbnN0IHByb3RlY3RlZFJvdXRlcyA9IFsnL3RvcGljcycsICcvcHJvZmlsZScsICcvZGFzaGJvYXJkJywgJy9oYWxsLW9mLWZhbWUnXTtcclxuICBjb25zdCBhdXRoUm91dGVzID0gWycvbG9naW4nLCAnL3NpZ251cCddO1xyXG4gIFxyXG4gIGNvbnN0IHBhdGhuYW1lID0gcmVxdWVzdC5uZXh0VXJsLnBhdGhuYW1lO1xyXG4gIFxyXG4gIC8vIENoZWNrIGlmIGN1cnJlbnQgcGF0aCBpcyBwcm90ZWN0ZWRcclxuICBjb25zdCBpc1Byb3RlY3RlZFJvdXRlID0gcHJvdGVjdGVkUm91dGVzLnNvbWUocm91dGUgPT4gXHJcbiAgICBwYXRobmFtZS5zdGFydHNXaXRoKHJvdXRlKVxyXG4gICk7XHJcbiAgXHJcbiAgY29uc3QgaXNBdXRoUm91dGUgPSBhdXRoUm91dGVzLnNvbWUocm91dGUgPT4gXHJcbiAgICBwYXRobmFtZS5zdGFydHNXaXRoKHJvdXRlKVxyXG4gICk7XHJcbiAgXHJcbiAgLy8gSWYgbm8gdG9rZW4gYW5kIHRyeWluZyB0byBhY2Nlc3MgcHJvdGVjdGVkIHJvdXRlLCByZWRpcmVjdCB0byBsb2dpblxyXG4gIGlmIChpc1Byb3RlY3RlZFJvdXRlICYmICF0b2tlbikge1xyXG4gICAgY29uc3QgdXJsID0gbmV3IFVSTCgnL2xvZ2luJywgcmVxdWVzdC51cmwpO1xyXG4gICAgdXJsLnNlYXJjaFBhcmFtcy5zZXQoJ3JlZGlyZWN0JywgcGF0aG5hbWUpO1xyXG4gICAgcmV0dXJuIE5leHRSZXNwb25zZS5yZWRpcmVjdCh1cmwpO1xyXG4gIH1cclxuICBcclxuICAvLyBJZiBoYXMgdG9rZW4gYW5kIHRyeWluZyB0byBhY2Nlc3MgYXV0aCByb3V0ZXMsIHJlZGlyZWN0IHRvIHRvcGljc1xyXG4gIGlmIChpc0F1dGhSb3V0ZSAmJiB0b2tlbikge1xyXG4gICAgcmV0dXJuIE5leHRSZXNwb25zZS5yZWRpcmVjdChuZXcgVVJMKCcvdG9waWNzJywgcmVxdWVzdC51cmwpKTtcclxuICB9XHJcbiAgXHJcbiAgcmV0dXJuIE5leHRSZXNwb25zZS5uZXh0KCk7XHJcbn1cclxuXHJcbmV4cG9ydCBjb25zdCBjb25maWcgPSB7XHJcbiAgbWF0Y2hlcjogW1xyXG4gICAgLypcclxuICAgICAqIE1hdGNoIGFsbCByZXF1ZXN0IHBhdGhzIGV4Y2VwdCBmb3IgdGhlIG9uZXMgc3RhcnRpbmcgd2l0aDpcclxuICAgICAqIC0gYXBpIChBUEkgcm91dGVzKVxyXG4gICAgICogLSBfbmV4dC9zdGF0aWMgKHN0YXRpYyBmaWxlcylcclxuICAgICAqIC0gX25leHQvaW1hZ2UgKGltYWdlIG9wdGltaXphdGlvbiBmaWxlcylcclxuICAgICAqIC0gZmF2aWNvbi5pY28gKGZhdmljb24gZmlsZSlcclxuICAgICAqIC0gcHVibGljIGZvbGRlclxyXG4gICAgICovXHJcbiAgICAnLygoPyFhcGl8X25leHQvc3RhdGljfF9uZXh0L2ltYWdlfGZhdmljb24uaWNvfHB1YmxpYykuKiknLFxyXG4gIF1cclxufTtcclxuIl0sIm5hbWVzIjpbIk5leHRSZXNwb25zZSIsIm1pZGRsZXdhcmUiLCJyZXF1ZXN0IiwidG9rZW4iLCJjb29raWVzIiwiZ2V0IiwidmFsdWUiLCJwcm90ZWN0ZWRSb3V0ZXMiLCJhdXRoUm91dGVzIiwicGF0aG5hbWUiLCJuZXh0VXJsIiwiaXNQcm90ZWN0ZWRSb3V0ZSIsInNvbWUiLCJyb3V0ZSIsInN0YXJ0c1dpdGgiLCJpc0F1dGhSb3V0ZSIsInVybCIsIlVSTCIsInNlYXJjaFBhcmFtcyIsInNldCIsInJlZGlyZWN0IiwibmV4dCIsImNvbmZpZyIsIm1hdGNoZXIiXSwiaWdub3JlTGlzdCI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(middleware)/./src/middleware.ts\n");

/***/ })

});